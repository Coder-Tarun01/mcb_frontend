/*! For license information please see 190.1e957798.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmycareerbuild_portal=self.webpackChunkmycareerbuild_portal||[]).push([[190],{1190:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var r=s(5043),a=s(6446),i=s(2054),l=s(3165),o=s(6210),n=s(9379),c=s(3216),d=s(5475),m=s(9570),u=s(5327);const x=(0,s(7784).A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var y=s(6245),h=s(7819),g=s(5727),p=s(4651),b=s(5087),f=s(5692),w=s(6625),v=s(4858),j=s(8403),N=s(6773),P=s(6291),k=s(2339),A=s(579);const O=()=>{var e;const{login:t,loginWithOTP:s}=(0,w.A)(),l=(0,c.Zp)(),[o]=(0,d.ok)(),[O,T]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[q,z]=(0,r.useState)("email"),[E,I]=(0,r.useState)(!1),[L,M]=(0,r.useState)(""),[F,R]=(0,r.useState)(""),[Y,V]=(0,r.useState)(""),[_,J]=(0,r.useState)(!1),{register:W,handleSubmit:Z,formState:{errors:B,isValid:D},watch:X}=(0,v.mN)({mode:"onChange",resolver:(0,j.t)(N.X5),defaultValues:{email:"",password:"",rememberMe:!1}}),$=X("email"),G=()=>{R(""),V(""),J(!1)},H=e=>{const t=o.get("redirect");return t&&"employer"!==e?decodeURIComponent(t):"employer"===e?"/employer/dashboard":"/dashboard"};return(0,A.jsxs)("div",{className:"w-full",children:[(0,A.jsxs)("div",{className:"text-center mb-8",children:[(0,A.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sign In"}),(0,A.jsx)("p",{className:"text-gray-600",children:"Welcome back! Please sign in to your account."})]}),(0,A.jsx)("div",{className:"mb-6",children:(0,A.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,A.jsxs)("button",{type:"button",onClick:()=>{z("email"),I(!1),M(""),G()},className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md transition-all duration-200 ".concat("email"===q?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:[(0,A.jsx)(u.A,{size:18}),(0,A.jsx)("span",{className:"font-medium",children:"Email & Password"})]}),(0,A.jsxs)("button",{type:"button",onClick:()=>{z("otp"),I(!1),M(""),G()},className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md transition-all duration-200 ".concat("otp"===q?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:[(0,A.jsx)(x,{size:18}),(0,A.jsx)("span",{className:"font-medium",children:"OTP Login"})]})]})}),(0,A.jsxs)("form",{onSubmit:Z(async e=>{console.log("Form submitted:",{loginMethod:q,otpSent:E,values:e}),C(!0);try{if("email"===q){if(await t(e.email.trim().toLowerCase(),e.password,e.rememberMe)){const t=e.rememberMe?"Logged in successfully - you'll stay logged in for 30 days":"Logged in successfully";k.Ay.success(t);const s=JSON.parse(localStorage.getItem("user")||"{}"),r=H(s.role||"");l(r)}else k.Ay.error("Login failed. Please try again.")}else if(E){if(!L||6!==L.length)return void k.Ay.error("Please enter a valid 6-digit OTP");try{const t=await P.R2.verifyOTP(e.email.trim().toLowerCase(),L);if(t.success){localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),k.Ay.success("Login successful");const e=H(t.user.role||"");l(e),await handleExternalJobAfterLogin(e,t.user.role||"")}}catch(s){k.Ay.error(s.message||"Invalid OTP. Please try again."),M("")}}else{console.log("Sending OTP to:",e.email);try{const t=await P.R2.sendOTP(e.email.trim().toLowerCase());console.log("OTP response:",t),t.success&&(k.Ay.success("OTP sent successfully to your email"),I(!0))}catch(s){console.error("OTP send error:",s),k.Ay.error(s.message||"Failed to send OTP. Please try again.")}}}catch(r){k.Ay.error(r.message||"An error occurred. Please try again.")}finally{C(!1)}}),className:"space-y-6",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,A.jsx)(u.A,{className:"h-5 w-5 ".concat(F?"text-red-400":_?"text-green-400":"text-gray-400")})}),(0,A.jsx)("input",(0,n.A)({type:"email",id:"email",placeholder:"Enter your email",className:"block w-full pl-10 pr-10 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ".concat(F?"border-red-300 bg-red-50":_?"border-green-300 bg-green-50":B.email?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"),"aria-invalid":!!B.email||!!F,"aria-describedby":B.email?"email-error":F?"email-error-custom":void 0},W("email"))),(0,A.jsxs)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:[_&&(0,A.jsx)(i.A,{className:"h-5 w-5 text-green-400"}),F&&(0,A.jsx)(y.A,{className:"h-5 w-5 text-red-400"})]})]}),(0,A.jsx)(m.N,{children:(B.email||F)&&(0,A.jsxs)(a.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},id:B.email?"email-error":"email-error-custom",className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,A.jsx)(h.A,{size:14}),F||(null===(e=B.email)||void 0===e?void 0:e.message)]})})]}),"email"===q&&(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,A.jsx)(g.A,{className:"h-5 w-5 text-gray-400"})}),(0,A.jsx)("input",(0,n.A)({type:O?"text":"password",id:"password",placeholder:"Enter your password",className:"block w-full pl-10 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ".concat(B.password?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"),"aria-invalid":!!B.password,"aria-describedby":B.password?"password-error":void 0},W("password"))),(0,A.jsx)("button",{type:"button",onClick:()=>T(!O),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:O?(0,A.jsx)(p.A,{size:20}):(0,A.jsx)(b.A,{size:20})})]}),B.password&&(0,A.jsx)("p",{id:"password-error",className:"mt-1 text-sm text-red-600",children:B.password.message})]}),"otp"===q&&E&&(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter OTP"}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,A.jsx)(x,{className:"h-5 w-5 ".concat(Y?"text-red-400":"text-gray-400")})}),(0,A.jsx)("input",{type:"text",id:"otp",placeholder:"Enter 6-digit OTP",value:L,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);M(t),Y&&V("")},className:"block w-full pl-10 pr-10 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-center text-lg font-mono tracking-widest ".concat(Y?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"),maxLength:6,autoComplete:"one-time-code"}),(0,A.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Y&&(0,A.jsx)(y.A,{className:"h-5 w-5 text-red-400"})})]}),(0,A.jsx)(m.N,{children:Y&&(0,A.jsxs)(a.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,A.jsx)(h.A,{size:14}),Y]})}),(0,A.jsx)(m.N,{children:_&&(0,A.jsx)(a.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mb-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,A.jsxs)("p",{className:"text-sm text-green-700 flex items-center gap-2",children:[(0,A.jsx)(i.A,{size:16}),"OTP sent successfully! Check your email for the 6-digit code."]})})}),(0,A.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,A.jsx)("p",{className:"text-sm text-gray-500",children:"Enter the 6-digit code sent to your email"}),(0,A.jsx)("button",{type:"button",onClick:async()=>{V(""),M("");try{(await P.R2.sendOTP($||"")).success&&k.Ay.success("OTP resent successfully")}catch(t){var e;404===t.status||null!==(e=t.message)&&void 0!==e&&e.includes("not found")?R("This email is not registered. Please check your email or create an account first."):429===t.status?R("Please wait a few minutes before requesting another OTP."):k.Ay.error(t.message||"Failed to resend OTP")}},className:"text-sm text-blue-600 hover:text-blue-500 font-medium transition-colors",disabled:S,children:"Resend OTP"})]})]}),"email"===q&&(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsxs)("div",{className:"flex items-center",children:[(0,A.jsx)("input",(0,n.A)({type:"checkbox",id:"rememberMe",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},W("rememberMe"))),(0,A.jsx)("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),(0,A.jsx)(d.N_,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Forgot Password?"})]}),(0,A.jsx)(a.P.button,{type:"otp"===q?"button":"submit",disabled:S||"email"===q&&!D||"otp"===q&&(!$||!$.trim()),whileHover:{scale:1.02},whileTap:{scale:.98},onClick:"otp"===q?async()=>{if(R(""),V(""),J(!1),!$||!$.trim())return void R("Please enter your email address");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($.trim())){console.log("OTP login triggered:",{emailValue:$,otpSent:E}),C(!0);try{if(E){if(!L||6!==L.length)return void V("Please enter the OTP sent to your email");console.log("Verifying OTP:",{emailValue:$,otpCode:L});if(await s($.trim().toLowerCase(),L)){k.Ay.success("Login successful");const e=JSON.parse(localStorage.getItem("user")||"{}"),t=H(e.role||"");l(t)}}else{console.log("Sending OTP to:",$);const e=await P.R2.sendOTP($.trim().toLowerCase());console.log("OTP response:",e),e.success&&(J(!0),I(!0),k.Ay.success("OTP sent successfully to your email"))}}catch(o){var e,t,r,a,i;console.error("OTP error:",o),404===o.status||null!==(e=o.message)&&void 0!==e&&e.includes("not found")||null!==(t=o.message)&&void 0!==t&&t.includes("No account found")?R("This email is not registered. Please check your email or create an account first."):400===o.status&&null!==(r=o.message)&&void 0!==r&&r.includes("OTP")?(V("Invalid or expired OTP. Please request a new one."),M("")):429===o.status?R("Please wait a few minutes before requesting another OTP."):0===o.status||null!==(a=o.message)&&void 0!==a&&a.includes("network")||null!==(i=o.message)&&void 0!==i&&i.includes("fetch")?k.Ay.error("Something went wrong. Please try again later."):k.Ay.error(o.message||"Something went wrong. Please try again later."),E&&M("")}finally{C(!1)}}else R("Please enter a valid email address")}:void 0,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:S?(0,A.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,A.jsxs)(A.Fragment,{children:["otp"===q?E?"Verify OTP":"Send OTP":"Sign In",(0,A.jsx)(f.A,{size:18})]})})]}),(0,A.jsxs)("div",{className:"mt-8 text-center",children:[(0,A.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,A.jsx)(d.N_,{to:"/signup",className:"text-blue-600 hover:text-blue-500 font-semibold transition-colors",children:"Sign up here"})]}),(0,A.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,A.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,A.jsx)("strong",{children:"Note:"})," If you're having trouble logging in, please try registering a new account instead."]})})]})]})},T={color:"white !important","--tw-text-opacity":"1"},S=()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("style",{children:"\n        .blue-section * {\n          color: white !important;\n        }\n        .blue-section h1,\n        .blue-section h2,\n        .blue-section h3,\n        .blue-section p,\n        .blue-section span,\n        .blue-section div {\n          color: white !important;\n        }\n      "}),(0,A.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,A.jsx)("div",{className:"w-full max-w-6xl bg-white rounded-2xl shadow-xl overflow-hidden",children:(0,A.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-[600px]",children:[(0,A.jsxs)("div",{className:"blue-section bg-gradient-to-br from-blue-600 via-blue-500 to-blue-400 pt-4 pb-8 px-8 lg:pt-6 lg:pb-12 lg:px-12 flex items-start justify-center relative overflow-hidden min-h-[600px]",style:T,children:[(0,A.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,A.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,A.jsxs)(a.P.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8},className:"text-center text-white relative z-10 max-w-md [&_*]:text-white",children:[(0,A.jsx)(a.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-6",children:(0,A.jsx)("span",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs font-semibold uppercase tracking-wider px-4 py-2 rounded-full border border-white/30",style:{color:"white"},children:"Welcome Back"})}),(0,A.jsx)(a.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-4xl lg:text-5xl font-bold mb-6 leading-tight text-white !text-white",style:{color:"white"},children:"Sign In to Continue"}),(0,A.jsx)(a.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-lg text-white mb-8 leading-relaxed !text-white",style:{color:"white"},children:"Access your saved jobs, track applications, and get personalized recommendations."}),(0,A.jsx)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"space-y-4",children:[{icon:i.A,text:"Access your saved jobs"},{icon:l.A,text:"Track your applications"},{icon:o.A,text:"Get personalized recommendations"}].map((e,t)=>{const s=e.icon;return(0,A.jsxs)(a.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1+.1*t},className:"flex items-center gap-3 p-3 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/15 transition-all duration-300",children:[(0,A.jsx)("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold text-white",children:(0,A.jsx)(s,{size:16,className:"text-white"})}),(0,A.jsx)("span",{className:"text-white font-medium text-sm !text-white",style:{color:"white"},children:e.text})]},t)})})]})]}),(0,A.jsx)("div",{className:"p-8 lg:p-12 flex items-center justify-center bg-white",children:(0,A.jsx)(a.P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"w-full max-w-md",children:(0,A.jsx)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full",children:(0,A.jsx)(O,{})})})})]})})})]})},2054:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3165:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},6245:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6773:(e,t,s)=>{s.d(t,{O5:()=>i,X5:()=>a});var r=s(899);const a=r.Ik({email:r.Yj().trim().required("Email is required").email("Enter a valid email address"),password:r.Yj().required("Password is required").min(8,"Password must be at least 8 characters"),rememberMe:r.zM().optional()}),i=r.Ik({name:r.Yj().trim().required("Full name is required").min(3,"Full name must be at least 3 characters"),email:r.Yj().trim().required("Email is required").email("Enter a valid email address"),role:r.gl().oneOf(["employee","employer"],"Please select a role").required("Role is required"),password:r.Yj().required("Password is required").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,"Must include uppercase, lowercase, number, and special character"),confirmPassword:r.Yj().required("Please confirm your password").oneOf([r.KR("password")],"Passwords must match"),companyName:r.Yj().when("role",{is:e=>"employer"===e,then:e=>e.trim().required("Company name is required"),otherwise:e=>e.optional()}),skills:r.Yj().when("role",{is:e=>"employee"===e,then:e=>e.optional(),otherwise:e=>e.optional()}),acceptTerms:r.zM().oneOf([!0],"You must accept the Terms of Service and Privacy Policy").required()})},7819:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}}]);
//# sourceMappingURL=190.1e957798.chunk.js.map