{"version":3,"file":"static/js/30.d079147a.chunk.js","mappings":"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","sources":["webpack://mycareerbuild-portal/./src/pages/NotificationDashboard.module.css?b8f4","services/notificationService.ts","pages/NotificationDashboard.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"NotificationDashboard_container__yAAZH\",\"heading\":\"NotificationDashboard_heading__gBpa2\",\"cardGrid\":\"NotificationDashboard_cardGrid__zpFJB\",\"card\":\"NotificationDashboard_card__SFWzh\",\"cardLabel\":\"NotificationDashboard_cardLabel__lXlJH\",\"cardValue\":\"NotificationDashboard_cardValue__pdni2\",\"cardSubtext\":\"NotificationDashboard_cardSubtext__g4uR7\",\"section\":\"NotificationDashboard_section__odYg3\",\"sectionTitle\":\"NotificationDashboard_sectionTitle__kBrHa\",\"actionsRow\":\"NotificationDashboard_actionsRow__6ShGW\",\"searchRow\":\"NotificationDashboard_searchRow__egKt1\",\"button\":\"NotificationDashboard_button__QmiZi\",\"buttonGhost\":\"NotificationDashboard_buttonGhost__893F4\",\"buttonMuted\":\"NotificationDashboard_buttonMuted__fXLN7\",\"table\":\"NotificationDashboard_table__-fdCP\",\"tableHeader\":\"NotificationDashboard_tableHeader__mfsLz\",\"tableCell\":\"NotificationDashboard_tableCell__oQfyI\",\"badge\":\"NotificationDashboard_badge__7rgoZ\",\"badgeSuccess\":\"NotificationDashboard_badgeSuccess__cWvuX\",\"badgeWarning\":\"NotificationDashboard_badgeWarning__rcFHc\",\"badgeMuted\":\"NotificationDashboard_badgeMuted__iENWn\",\"message\":\"NotificationDashboard_message__WICDv\",\"messageSuccess\":\"NotificationDashboard_messageSuccess__BhWIE\",\"messageError\":\"NotificationDashboard_messageError__d2MWI\",\"form\":\"NotificationDashboard_form__7frmD\",\"fileInput\":\"NotificationDashboard_fileInput__+trVY\",\"list\":\"NotificationDashboard_list__TjJ1l\",\"codeBlock\":\"NotificationDashboard_codeBlock__eJ4ri\",\"textInput\":\"NotificationDashboard_textInput__NP2fy\",\"helperText\":\"NotificationDashboard_helperText__0jXNI\",\"paginationRow\":\"NotificationDashboard_paginationRow__nAQBe\",\"paginationButtons\":\"NotificationDashboard_paginationButtons__tiiWu\",\"pill\":\"NotificationDashboard_pill__I41wK\"};","import axios, { AxiosResponse } from 'axios';\r\nimport { API_BASE_URL } from './api';\r\n\r\n// Types\r\nexport interface Job {\r\n  id: string;\r\n  title: string;\r\n  company: string;\r\n  location: string;\r\n  experience?: string;\r\n  notifiedAt?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface NotificationLog {\r\n  id: string;\r\n  type: string;\r\n  status: string;\r\n  message: string;\r\n  timestamp: string;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\nexport interface MarketingHealth {\r\n  lastRunAt: string | null;\r\n  lastBatchId: string | null;\r\n  pendingJobsCount: number;\r\n  failureRate24h: number;\r\n  runs24h: number;\r\n  failures24h: number;\r\n}\r\n\r\nexport interface MarketingRunSummary {\r\n  ok: boolean;\r\n  skipped: boolean;\r\n  reason?: string;\r\n  batchId: string;\r\n  startedAt: string;\r\n  finishedAt: string;\r\n  jobsQueried: number;\r\n  jobsIncluded: number;\r\n  contactsAttempted: number;\r\n  contactsSucceeded: number;\r\n  contactsFailed: number;\r\n  errors?: Array<Record<string, unknown>>;\r\n}\r\n\r\nexport interface CSVUploadSummary {\r\n  processed: number;\r\n  inserted: number;\r\n  updated: number;\r\n  skipped: number;\r\n  errors?: Array<{ row: number; email?: string; message: string }>;\r\n}\r\n\r\nexport interface MarketingContact {\r\n  id: number;\r\n  fullName: string;\r\n  email: string;\r\n  mobileNo: string | null;\r\n  branch: string | null;\r\n  experience: string | null;\r\n  createdAt: string;\r\n}\r\n\r\nexport interface MarketingPagination {\r\n  page: number;\r\n  pageSize: number;\r\n  total: number;\r\n  totalPages: number;\r\n  hasNextPage: boolean;\r\n  hasPrevPage: boolean;\r\n}\r\n\r\nexport interface FresherSubscriber {\r\n  id: number;\r\n  email: string;\r\n  fullName: string;\r\n  mobileNo: string | null;\r\n  branch: string | null;\r\n  experience: string | null;\r\n  createdAt: string;\r\n}\r\n\r\nconst API_URL = `${API_BASE_URL}/notifications`;\r\n\r\nclass NotificationService {\r\n  private static instance: NotificationService;\r\n  private constructor() {}\r\n\r\n  public static getInstance(): NotificationService {\r\n    if (!NotificationService.instance) {\r\n      NotificationService.instance = new NotificationService();\r\n    }\r\n    return NotificationService.instance;\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: {\r\n      method?: string;\r\n      adminKey: string;\r\n      marketingToken?: string;\r\n      data?: any;\r\n      params?: Record<string, any>;\r\n      headers?: Record<string, string>;\r\n    }\r\n  ): Promise<T> {\r\n    try {\r\n      const { method = 'GET', adminKey, marketingToken, data, params, headers = {} } = options;\r\n      const requestHeaders: Record<string, string> = {\r\n        'X-Admin-Key': adminKey,\r\n        ...headers,\r\n      };\r\n\r\n      if (marketingToken) {\r\n        requestHeaders['X-Marketing-Token'] = marketingToken;\r\n      }\r\n\r\n      const response: AxiosResponse<T> = await axios({\r\n        method,\r\n        url: `${API_URL}${endpoint}`,\r\n        headers: requestHeaders,\r\n        data,\r\n        params,\r\n      });\r\n      return response.data;\r\n    } catch (error: any) {\r\n      if (axios.isAxiosError(error)) {\r\n        throw new Error(error.response?.data?.error || error.response?.data?.message || error.message);\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Fresher Jobs\r\n  async fetchFresherJobs(params: { adminKey: string; includeNotified?: boolean }): Promise<{\r\n    success: boolean;\r\n    data: { jobs: Job[] };\r\n    message?: string;\r\n  }> {\r\n    return this.request('/jobs/freshers', {\r\n      adminKey: params.adminKey,\r\n      params: { includeNotified: params.includeNotified },\r\n    });\r\n  }\r\n\r\n  // Notification Logs\r\n  async fetchLogs(adminKey: string, limit?: number): Promise<{\r\n    success: boolean;\r\n    data: { success: NotificationLog[]; failed: NotificationLog[] };\r\n  }> {\r\n    return this.request('/logs', {\r\n      adminKey,\r\n      params: { limit },\r\n    });\r\n  }\r\n\r\n  // Marketing Health\r\n  async fetchMarketingHealth(adminKey: string): Promise<{\r\n    success: boolean;\r\n    data: {\r\n      last_run_at: string | null;\r\n      last_batch_id: string | null;\r\n      pending_jobs_count: number;\r\n      failure_rate_24h: number;\r\n      runs_24h: number;\r\n      failures_24h: number;\r\n    };\r\n  }> {\r\n    return this.request('/marketing/health', {\r\n      adminKey,\r\n      marketingToken: adminKey,\r\n    });\r\n  }\r\n\r\n  async fetchMarketingContacts(params: {\r\n    adminKey: string;\r\n    page?: number;\r\n    pageSize?: number;\r\n    search?: string;\r\n    sortBy?: string;\r\n    sortDirection?: 'ASC' | 'DESC';\r\n  }): Promise<{\r\n    success: boolean;\r\n    data: { contacts: MarketingContact[]; pagination: MarketingPagination };\r\n    message?: string;\r\n  }> {\r\n    return this.request('/marketing/contacts', {\r\n      adminKey: params.adminKey,\r\n      params: {\r\n        page: params.page,\r\n        pageSize: params.pageSize,\r\n        search: params.search,\r\n        sortBy: params.sortBy,\r\n        sortDirection: params.sortDirection,\r\n      },\r\n    });\r\n  }\r\n\r\n  async createMarketingContact(params: {\r\n    adminKey: string;\r\n    payload: {\r\n      fullName: string;\r\n      email: string;\r\n      mobileNo?: string;\r\n      branch?: string;\r\n      experience?: string;\r\n    };\r\n  }): Promise<{\r\n    success: boolean;\r\n    data: MarketingContact;\r\n    message?: string;\r\n  }> {\r\n    return this.request('/marketing/contacts', {\r\n      method: 'POST',\r\n      adminKey: params.adminKey,\r\n      data: {\r\n        fullName: params.payload.fullName,\r\n        email: params.payload.email,\r\n        mobileNo: params.payload.mobileNo,\r\n        branch: params.payload.branch,\r\n        experience: params.payload.experience,\r\n      },\r\n    });\r\n  }\r\n\r\n  async updateMarketingContact(params: {\r\n    adminKey: string;\r\n    contactId: number;\r\n    payload: {\r\n      fullName: string;\r\n      email: string;\r\n      mobileNo?: string;\r\n      branch?: string;\r\n      experience?: string;\r\n    };\r\n  }): Promise<{\r\n    success: boolean;\r\n    data: MarketingContact;\r\n    message?: string;\r\n  }> {\r\n    return this.request(`/marketing/contacts/${params.contactId}`, {\r\n      method: 'PUT',\r\n      adminKey: params.adminKey,\r\n      data: {\r\n        fullName: params.payload.fullName,\r\n        email: params.payload.email,\r\n        mobileNo: params.payload.mobileNo,\r\n        branch: params.payload.branch,\r\n        experience: params.payload.experience,\r\n      },\r\n    });\r\n  }\r\n\r\n  async deleteMarketingContact(params: {\r\n    adminKey: string;\r\n    contactId: number;\r\n  }): Promise<{\r\n    success: boolean;\r\n    data?: { id: number };\r\n    message?: string;\r\n  }> {\r\n    return this.request(`/marketing/contacts/${params.contactId}`, {\r\n      method: 'DELETE',\r\n      adminKey: params.adminKey,\r\n    });\r\n  }\r\n\r\n  async fetchFresherSubscribers(params: {\r\n    adminKey: string;\r\n    page?: number;\r\n    pageSize?: number;\r\n    search?: string;\r\n  }): Promise<{\r\n    success: boolean;\r\n    data: { subscribers: FresherSubscriber[]; pagination: MarketingPagination };\r\n    message?: string;\r\n  }> {\r\n    return this.request('/subscribers', {\r\n      adminKey: params.adminKey,\r\n      params: {\r\n        page: params.page,\r\n        pageSize: params.pageSize,\r\n        search: params.search,\r\n      },\r\n    });\r\n  }\r\n\r\n  // Upload Subscribers CSV\r\n  async uploadSubscribersCsv(file: File, adminKey: string): Promise<{\r\n    success: boolean;\r\n    data: CSVUploadSummary;\r\n    message?: string;\r\n  }> {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    return this.request('/upload-csv', {\r\n      method: 'POST',\r\n      adminKey,\r\n      data: formData,\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  }\r\n\r\n  // Trigger Marketing Digest\r\n  async triggerMarketingDigest(params: {\r\n    adminKey: string;\r\n    force?: boolean;\r\n  }): Promise<{\r\n    success: boolean;\r\n    data: MarketingRunSummary;\r\n    message?: string;\r\n  }> {\r\n    return this.request('/marketing/trigger', {\r\n      method: 'POST',\r\n      adminKey: params.adminKey,\r\n      data: { force: params.force },\r\n    });\r\n  }\r\n}\r\n\r\nexport const notificationService = NotificationService.getInstance();\r\nexport default notificationService;","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\r\nimport styles from './NotificationDashboard.module.css';\r\nimport notificationService, {\r\n  MarketingHealth,\r\n  MarketingRunSummary,\r\n  MarketingContact,\r\n  MarketingPagination,\r\n  FresherSubscriber,\r\n} from '../services/notificationService';\r\nimport {\r\n  notificationAdminAPI,\r\n  type NotificationLogEntry,\r\n  type NotificationCsvSummary,\r\n  type FresherNotificationJob,\r\n} from '../services/api';\r\n\r\nconst ADMIN_KEY_STORAGE = 'mcbAdminKey';\r\nconst MARKETING_PAGE_SIZE = 10;\r\nconst SUBSCRIBER_PAGE_SIZE = 10;\r\n\r\ninterface ContactFormState {\r\n  fullName: string;\r\n  email: string;\r\n  mobileNo: string;\r\n  branch: string;\r\n  experience: string;\r\n}\r\n\r\nconst createEmptyContactForm = (): ContactFormState => ({\r\n  fullName: '',\r\n  email: '',\r\n  mobileNo: '',\r\n  branch: '',\r\n  experience: '',\r\n});\r\n\r\nconst createDefaultContactPagination = (): MarketingPagination => ({\r\n  page: 1,\r\n  pageSize: MARKETING_PAGE_SIZE,\r\n  total: 0,\r\n  totalPages: 0,\r\n  hasNextPage: false,\r\n  hasPrevPage: false,\r\n});\r\n\r\nconst createDefaultSubscriberPagination = (): MarketingPagination => ({\r\n  page: 1,\r\n  pageSize: SUBSCRIBER_PAGE_SIZE,\r\n  total: 0,\r\n  totalPages: 0,\r\n  hasNextPage: false,\r\n  hasPrevPage: false,\r\n});\r\n\r\nconst formatDateTime = (value?: string | null) => {\r\n  if (!value) {\r\n    return 'â€”';\r\n  }\r\n  try {\r\n    return new Date(value).toLocaleString();\r\n  } catch (error) {\r\n    return value;\r\n  }\r\n};\r\n\r\nconst NotificationDashboard: React.FC = () => {\r\n  const [adminKey, setAdminKey] = useState<string>('');\r\n  const [adminKeyInput, setAdminKeyInput] = useState<string>('');\r\n  const [showKeyInput, setShowKeyInput] = useState<boolean>(true);\r\n\r\n  const [jobs, setJobs] = useState<FresherNotificationJob[]>([]);\r\n  const [logs, setLogs] = useState<{ success: NotificationLogEntry[]; failed: NotificationLogEntry[] }>({\r\n    success: [],\r\n    failed: [],\r\n  });\r\n\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [csvSummary, setCsvSummary] = useState<NotificationCsvSummary | null>(null);\r\n  const [marketingHealth, setMarketingHealth] = useState<MarketingHealth | null>(null);\r\n  const [marketingRunSummary, setMarketingRunSummary] = useState<MarketingRunSummary | null>(null);\r\n  const [marketingContacts, setMarketingContacts] = useState<MarketingContact[]>([]);\r\n  const [marketingPagination, setMarketingPagination] = useState<MarketingPagination>(createDefaultContactPagination);\r\n  const [marketingPage, setMarketingPage] = useState<number>(1);\r\n  const [marketingSearchInput, setMarketingSearchInput] = useState<string>('');\r\n  const [marketingSearch, setMarketingSearch] = useState<string>('');\r\n  const [isLoadingMarketingContacts, setIsLoadingMarketingContacts] = useState<boolean>(false);\r\n  const [contactForm, setContactForm] = useState<ContactFormState>(createEmptyContactForm);\r\n  const [editingContactId, setEditingContactId] = useState<number | null>(null);\r\n  const [isSavingContact, setIsSavingContact] = useState<boolean>(false);\r\n  const [deletingContactId, setDeletingContactId] = useState<number | null>(null);\r\n  const [subscribers, setSubscribers] = useState<FresherSubscriber[]>([]);\r\n  const [subscriberPagination, setSubscriberPagination] = useState<MarketingPagination>(createDefaultSubscriberPagination);\r\n  const [subscriberPage, setSubscriberPage] = useState<number>(1);\r\n  const [subscriberSearchInput, setSubscriberSearchInput] = useState<string>('');\r\n  const [subscriberSearch, setSubscriberSearch] = useState<string>('');\r\n  const [isLoadingSubscribers, setIsLoadingSubscribers] = useState<boolean>(false);\r\n\r\n  const [statusMessage, setStatusMessage] = useState<string>('');\r\n  const [errorMessage, setErrorMessage] = useState<string>('');\r\n  const [isLoadingJobs, setIsLoadingJobs] = useState<boolean>(false);\r\n  const [isLoadingLogs, setIsLoadingLogs] = useState<boolean>(false);\r\n  const [isUploading, setIsUploading] = useState<boolean>(false);\r\n  const [isSending, setIsSending] = useState<boolean>(false);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    const storedKey = localStorage.getItem(ADMIN_KEY_STORAGE);\r\n    if (storedKey) {\r\n      setAdminKey(storedKey);\r\n      setAdminKeyInput(storedKey);\r\n    }\r\n  }, []);\r\n\r\n  const clearState = useCallback(() => {\r\n    setJobs([]);\r\n    setLogs({ success: [], failed: [] });\r\n    setSelectedFile(null);\r\n    setCsvSummary(null);\r\n    setMarketingHealth(null);\r\n    setMarketingRunSummary(null);\r\n    setMarketingContacts([]);\r\n    setMarketingPagination(createDefaultContactPagination());\r\n    setMarketingPage(1);\r\n    setMarketingSearch('');\r\n    setMarketingSearchInput('');\r\n    setContactForm(createEmptyContactForm());\r\n    setEditingContactId(null);\r\n    setIsSavingContact(false);\r\n    setDeletingContactId(null);\r\n    setIsLoadingMarketingContacts(false);\r\n    setSubscribers([]);\r\n    setSubscriberPagination(createDefaultSubscriberPagination());\r\n    setSubscriberPage(1);\r\n    setSubscriberSearch('');\r\n    setSubscriberSearchInput('');\r\n    setIsLoadingSubscribers(false);\r\n  }, []);\r\n\r\n  const resetMessages = useCallback(() => {\r\n    setStatusMessage('');\r\n    setErrorMessage('');\r\n  }, []);\r\n\r\n  const clearStoredAdminKey = useCallback(() => {\r\n    localStorage.removeItem(ADMIN_KEY_STORAGE);\r\n    setAdminKey('');\r\n    setAdminKeyInput('');\r\n    clearState();\r\n  }, [clearState]);\r\n\r\n  const handleAdminError = useCallback(\r\n    (message?: string) => {\r\n    const normalized = message || 'Failed to process request';\r\n    setErrorMessage(normalized);\r\n    if (normalized.toLowerCase().includes('admin key')) {\r\n      clearStoredAdminKey();\r\n    }\r\n    },\r\n    [clearStoredAdminKey]\r\n  );\r\n\r\n  const loadJobs = useCallback(\r\n    async (overrideKey?: string) => {\r\n    const keyToUse = (overrideKey ?? adminKey)?.trim();\r\n    if (!keyToUse) {\r\n      setJobs([]);\r\n      return;\r\n    }\r\n\r\n    setIsLoadingJobs(true);\r\n    try {\r\n      const response = await notificationAdminAPI.fetchFresherJobs({\r\n        adminKey: keyToUse,\r\n        includeNotified: true,\r\n      });\r\n        setJobs(response.data?.jobs || []);\r\n      if (response.message) {\r\n        setStatusMessage(response.message);\r\n      }\r\n    } catch (error: any) {\r\n      handleAdminError(error?.message);\r\n    } finally {\r\n      setIsLoadingJobs(false);\r\n    }\r\n    },\r\n    [adminKey, handleAdminError]\r\n  );\r\n\r\n  const loadLogs = useCallback(\r\n    async (overrideKey?: string) => {\r\n    const keyToUse = (overrideKey ?? adminKey)?.trim();\r\n    if (!keyToUse) {\r\n      setLogs({ success: [], failed: [] });\r\n      return;\r\n    }\r\n\r\n    setIsLoadingLogs(true);\r\n    try {\r\n        const response = await notificationAdminAPI.fetchLogs(keyToUse, 50);\r\n      setLogs(response.data || { success: [], failed: [] });\r\n    } catch (error: any) {\r\n      handleAdminError(error?.message);\r\n    } finally {\r\n      setIsLoadingLogs(false);\r\n    }\r\n    },\r\n    [adminKey, handleAdminError]\r\n  );\r\n\r\n  const loadMarketingHealth = useCallback(\r\n    async (overrideKey?: string) => {\r\n      const keyToUse = (overrideKey ?? adminKey)?.trim();\r\n      if (!keyToUse) {\r\n        setMarketingHealth(null);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await notificationService.fetchMarketingHealth(keyToUse);\r\n        if (response.success && response.data) {\r\n          const data = response.data;\r\n          setMarketingHealth({\r\n            lastRunAt: data.last_run_at ?? null,\r\n            lastBatchId: data.last_batch_id ?? null,\r\n            pendingJobsCount: data.pending_jobs_count ?? 0,\r\n            failureRate24h: data.failure_rate_24h ?? 0,\r\n            runs24h: data.runs_24h ?? 0,\r\n            failures24h: data.failures_24h ?? 0,\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load marketing health', error);\r\n      }\r\n    },\r\n    [adminKey]\r\n  );\r\n\r\n  const loadMarketingContacts = useCallback(\r\n    async (overrideKey?: string, overrides: { page?: number; search?: string } = {}) => {\r\n    const keyToUse = (overrideKey ?? adminKey)?.trim();\r\n    if (!keyToUse) {\r\n      setMarketingContacts([]);\r\n        setMarketingPagination(createDefaultContactPagination());\r\n      return;\r\n    }\r\n\r\n      const targetPage = overrides.page ?? marketingPage;\r\n    const searchValue = overrides.search ?? marketingSearch;\r\n\r\n    setIsLoadingMarketingContacts(true);\r\n    try {\r\n      const response = await notificationService.fetchMarketingContacts({\r\n        adminKey: keyToUse,\r\n        page: targetPage,\r\n          pageSize: MARKETING_PAGE_SIZE,\r\n          search: searchValue || undefined,\r\n        });\r\n\r\n        const payload = response.data || {\r\n          contacts: [],\r\n          pagination: createDefaultContactPagination(),\r\n        };\r\n\r\n      setMarketingContacts(payload.contacts || []);\r\n        if (payload.pagination) {\r\n          setMarketingPagination(payload.pagination);\r\n          if (payload.pagination.page && payload.pagination.page !== marketingPage) {\r\n            setMarketingPage(payload.pagination.page);\r\n          }\r\n        } else {\r\n          const fallbackPagination: MarketingPagination = {\r\n            page: targetPage,\r\n            pageSize: MARKETING_PAGE_SIZE,\r\n            total: payload.contacts?.length ?? 0,\r\n            totalPages: payload.contacts && payload.contacts.length > 0 ? 1 : 0,\r\n            hasNextPage: false,\r\n            hasPrevPage: targetPage > 1,\r\n          };\r\n          setMarketingPagination(fallbackPagination);\r\n        }\r\n    } catch (error: any) {\r\n        handleAdminError(error?.message || 'Failed to load marketing contacts');\r\n    } finally {\r\n      setIsLoadingMarketingContacts(false);\r\n    }\r\n    },\r\n    [adminKey, marketingPage, marketingSearch, handleAdminError]\r\n  );\r\n\r\n  const loadSubscribers = useCallback(\r\n    async (overrideKey?: string, overrides: { page?: number; search?: string } = {}) => {\r\n    const keyToUse = (overrideKey ?? adminKey)?.trim();\r\n    if (!keyToUse) {\r\n        setSubscribers([]);\r\n        setSubscriberPagination(createDefaultSubscriberPagination());\r\n      return;\r\n    }\r\n\r\n      const targetPage = overrides.page ?? subscriberPage;\r\n      const searchValue = overrides.search ?? subscriberSearch;\r\n\r\n      setIsLoadingSubscribers(true);\r\n      try {\r\n        const response = await notificationService.fetchFresherSubscribers({\r\n          adminKey: keyToUse,\r\n          page: targetPage,\r\n          pageSize: SUBSCRIBER_PAGE_SIZE,\r\n          search: searchValue || undefined,\r\n        });\r\n\r\n        const payload = response.data || {\r\n          subscribers: [],\r\n          pagination: createDefaultSubscriberPagination(),\r\n        };\r\n\r\n        setSubscribers(payload.subscribers || []);\r\n        if (payload.pagination) {\r\n          setSubscriberPagination(payload.pagination);\r\n          if (payload.pagination.page && payload.pagination.page !== subscriberPage) {\r\n            setSubscriberPage(payload.pagination.page);\r\n          }\r\n        } else {\r\n          const fallbackPagination: MarketingPagination = {\r\n            page: targetPage,\r\n            pageSize: SUBSCRIBER_PAGE_SIZE,\r\n            total: payload.subscribers?.length ?? 0,\r\n            totalPages: payload.subscribers && payload.subscribers.length > 0 ? 1 : 0,\r\n            hasNextPage: false,\r\n            hasPrevPage: targetPage > 1,\r\n          };\r\n          setSubscriberPagination(fallbackPagination);\r\n        }\r\n      } catch (error: any) {\r\n        handleAdminError(error?.message || 'Failed to load subscribers');\r\n      } finally {\r\n        setIsLoadingSubscribers(false);\r\n      }\r\n    },\r\n    [adminKey, subscriberPage, subscriberSearch, handleAdminError]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!adminKey.trim()) {\r\n      return;\r\n    }\r\n    loadMarketingContacts(undefined, { page: marketingPage, search: marketingSearch });\r\n  }, [adminKey, marketingPage, marketingSearch, loadMarketingContacts]);\r\n\r\n  useEffect(() => {\r\n    if (!adminKey.trim()) {\r\n      return;\r\n    }\r\n    loadSubscribers(undefined, { page: subscriberPage, search: subscriberSearch });\r\n  }, [adminKey, subscriberPage, subscriberSearch, loadSubscribers]);\r\n\r\n  const handleAdminSubmit = useCallback(\r\n    async (event: React.FormEvent<HTMLFormElement>) => {\r\n      event.preventDefault();\r\n      resetMessages();\r\n      const trimmedKey = adminKeyInput.trim();\r\n      if (!trimmedKey) {\r\n        handleAdminError('Please enter the admin key.');\r\n        return;\r\n      }\r\n      setAdminKey(trimmedKey);\r\n      setShowKeyInput(false);\r\n      localStorage.setItem(ADMIN_KEY_STORAGE, trimmedKey);\r\n      setMarketingPage(1);\r\n      setMarketingSearch('');\r\n      setMarketingSearchInput('');\r\n      setSubscriberPage(1);\r\n      setSubscriberSearch('');\r\n      setSubscriberSearchInput('');\r\n      await Promise.all([\r\n        loadJobs(trimmedKey),\r\n        loadLogs(trimmedKey),\r\n        loadMarketingHealth(trimmedKey),\r\n        loadMarketingContacts(trimmedKey, { page: 1, search: '' }),\r\n        loadSubscribers(trimmedKey, { page: 1, search: '' }),\r\n      ]);\r\n    },\r\n    [\r\n      adminKeyInput,\r\n      handleAdminError,\r\n      loadJobs,\r\n      loadLogs,\r\n      loadMarketingHealth,\r\n      loadMarketingContacts,\r\n      loadSubscribers,\r\n      resetMessages,\r\n    ]\r\n  );\r\n\r\n  const handleClearAdminKey = useCallback(() => {\r\n    resetMessages();\r\n    setShowKeyInput(true);\r\n    clearStoredAdminKey();\r\n  }, [clearStoredAdminKey, resetMessages]);\r\n\r\n  const handleContactInputChange = useCallback(\r\n    (field: keyof ContactFormState) => (event: React.ChangeEvent<HTMLInputElement>) => {\r\n      const value = event.target.value;\r\n      setContactForm((prev) => ({ ...prev, [field]: value }));\r\n    },\r\n    []\r\n  );\r\n\r\n  const handleContactSubmit = useCallback(\r\n    async (event: React.FormEvent<HTMLFormElement>) => {\r\n      event.preventDefault();\r\n      resetMessages();\r\n\r\n      const key = adminKey.trim();\r\n      if (!key) {\r\n        handleAdminError('Enter the admin key before managing contacts.');\r\n        return;\r\n      }\r\n\r\n      const payload = {\r\n        fullName: contactForm.fullName.trim(),\r\n        email: contactForm.email.trim(),\r\n        mobileNo: contactForm.mobileNo.trim(),\r\n        branch: contactForm.branch.trim(),\r\n        experience: contactForm.experience.trim(),\r\n      };\r\n\r\n      if (!payload.fullName) {\r\n        handleAdminError('Contact full name is required.');\r\n        return;\r\n      }\r\n      if (!payload.email) {\r\n        handleAdminError('Contact email is required.');\r\n        return;\r\n      }\r\n\r\n      setIsSavingContact(true);\r\n      try {\r\n        if (editingContactId) {\r\n          await notificationService.updateMarketingContact({\r\n            adminKey: key,\r\n            contactId: editingContactId,\r\n            payload,\r\n          });\r\n          setStatusMessage('Marketing contact updated.');\r\n          await loadMarketingContacts(undefined, { page: marketingPage, search: marketingSearch });\r\n        } else {\r\n          await notificationService.createMarketingContact({\r\n            adminKey: key,\r\n            payload,\r\n          });\r\n          setStatusMessage('Marketing contact created.');\r\n          if (marketingPage !== 1) {\r\n            setMarketingPage(1);\r\n          }\r\n          await loadMarketingContacts(undefined, { page: 1, search: marketingSearch });\r\n        }\r\n        setContactForm(createEmptyContactForm());\r\n        setEditingContactId(null);\r\n      } catch (error: any) {\r\n        handleAdminError(error?.message || 'Failed to save marketing contact');\r\n      } finally {\r\n        setIsSavingContact(false);\r\n      }\r\n    },\r\n    [\r\n      adminKey,\r\n      contactForm,\r\n      editingContactId,\r\n      handleAdminError,\r\n      loadMarketingContacts,\r\n      marketingPage,\r\n      marketingSearch,\r\n      resetMessages,\r\n    ]\r\n  );\r\n\r\n  const handleEditContact = useCallback(\r\n    (contact: MarketingContact) => {\r\n      resetMessages();\r\n      setEditingContactId(contact.id);\r\n      setContactForm({\r\n        fullName: contact.fullName,\r\n        email: contact.email,\r\n        mobileNo: contact.mobileNo ?? '',\r\n        branch: contact.branch ?? '',\r\n        experience: contact.experience ?? '',\r\n      });\r\n    },\r\n    [resetMessages]\r\n  );\r\n\r\n  const handleCancelEditContact = useCallback(() => {\r\n    resetMessages();\r\n    setEditingContactId(null);\r\n    setContactForm(createEmptyContactForm());\r\n  }, [resetMessages]);\r\n\r\n  const handleDeleteContact = useCallback(\r\n    async (contactId: number) => {\r\n      const key = adminKey.trim();\r\n      if (!key) {\r\n        handleAdminError('Enter the admin key before managing contacts.');\r\n        return;\r\n      }\r\n\r\n      if (!window.confirm('Are you sure you want to delete this marketing contact?')) {\r\n        return;\r\n      }\r\n\r\n      setDeletingContactId(contactId);\r\n      resetMessages();\r\n\r\n      try {\r\n        await notificationService.deleteMarketingContact({\r\n          adminKey: key,\r\n          contactId,\r\n        });\r\n        setStatusMessage('Marketing contact deleted.');\r\n\r\n        if (marketingContacts.length <= 1 && marketingPage > 1) {\r\n          setMarketingPage((prev) => Math.max(prev - 1, 1));\r\n        } else {\r\n          await loadMarketingContacts(undefined, { page: marketingPage, search: marketingSearch });\r\n        }\r\n      } catch (error: any) {\r\n        handleAdminError(error?.message || 'Failed to delete marketing contact');\r\n      } finally {\r\n        setDeletingContactId(null);\r\n      }\r\n    },\r\n    [\r\n      adminKey,\r\n      handleAdminError,\r\n      loadMarketingContacts,\r\n      marketingContacts.length,\r\n      marketingPage,\r\n      marketingSearch,\r\n      resetMessages,\r\n    ]\r\n  );\r\n\r\n  const handleContactSearchSubmit = useCallback(\r\n    async (event: React.FormEvent<HTMLFormElement>) => {\r\n      event.preventDefault();\r\n      resetMessages();\r\n      const key = adminKey.trim();\r\n      if (!key) {\r\n        handleAdminError('Enter the admin key before managing contacts.');\r\n        return;\r\n      }\r\n\r\n      const searchValue = marketingSearchInput.trim();\r\n      setMarketingSearch(searchValue);\r\n      setMarketingPage(1);\r\n      await loadMarketingContacts(undefined, { page: 1, search: searchValue });\r\n    },\r\n    [adminKey, handleAdminError, loadMarketingContacts, marketingSearchInput, resetMessages]\r\n  );\r\n\r\n  const handleClearContactSearch = useCallback(async () => {\r\n    if (!marketingSearch && marketingSearchInput === '') {\r\n      return;\r\n    }\r\n    resetMessages();\r\n    setMarketingSearchInput('');\r\n    setMarketingSearch('');\r\n    setMarketingPage(1);\r\n    if (adminKey.trim()) {\r\n      await loadMarketingContacts(undefined, { page: 1, search: '' });\r\n    }\r\n  }, [adminKey, loadMarketingContacts, marketingSearch, marketingSearchInput, resetMessages]);\r\n\r\n  const handleNextContactsPage = useCallback(() => {\r\n    if (!marketingPagination.hasNextPage) {\r\n      return;\r\n    }\r\n    setMarketingPage((prev) => prev + 1);\r\n  }, [marketingPagination.hasNextPage]);\r\n\r\n  const handlePrevContactsPage = useCallback(() => {\r\n    if (!marketingPagination.hasPrevPage) {\r\n      return;\r\n    }\r\n    setMarketingPage((prev) => Math.max(prev - 1, 1));\r\n  }, [marketingPagination.hasPrevPage]);\r\n\r\n  const handleRefreshContacts = useCallback(async () => {\r\n    const key = adminKey.trim();\r\n    if (!key) {\r\n      handleAdminError('Enter the admin key before managing contacts.');\r\n      return;\r\n    }\r\n    resetMessages();\r\n    await loadMarketingContacts(undefined, { page: marketingPage, search: marketingSearch });\r\n  }, [adminKey, handleAdminError, loadMarketingContacts, marketingPage, marketingSearch, resetMessages]);\r\n\r\n  const handleSubscriberSearchSubmit = useCallback(\r\n    async (event: React.FormEvent<HTMLFormElement>) => {\r\n      event.preventDefault();\r\n      resetMessages();\r\n      const key = adminKey.trim();\r\n      if (!key) {\r\n        handleAdminError('Enter the admin key before managing subscribers.');\r\n        return;\r\n      }\r\n\r\n      const searchValue = subscriberSearchInput.trim();\r\n      setSubscriberSearch(searchValue);\r\n      setSubscriberPage(1);\r\n      await loadSubscribers(undefined, { page: 1, search: searchValue });\r\n    },\r\n    [adminKey, handleAdminError, loadSubscribers, subscriberSearchInput, resetMessages]\r\n  );\r\n\r\n  const handleClearSubscriberSearch = useCallback(async () => {\r\n    if (!subscriberSearch && subscriberSearchInput === '') {\r\n      return;\r\n    }\r\n    resetMessages();\r\n    setSubscriberSearchInput('');\r\n    setSubscriberSearch('');\r\n    setSubscriberPage(1);\r\n    if (adminKey.trim()) {\r\n      await loadSubscribers(undefined, { page: 1, search: '' });\r\n    }\r\n  }, [adminKey, loadSubscribers, subscriberSearch, subscriberSearchInput, resetMessages]);\r\n\r\n  const handleNextSubscribersPage = useCallback(() => {\r\n    if (!subscriberPagination.hasNextPage) {\r\n      return;\r\n    }\r\n    setSubscriberPage((prev) => prev + 1);\r\n  }, [subscriberPagination.hasNextPage]);\r\n\r\n  const handlePrevSubscribersPage = useCallback(() => {\r\n    if (!subscriberPagination.hasPrevPage) {\r\n      return;\r\n    }\r\n    setSubscriberPage((prev) => Math.max(prev - 1, 1));\r\n  }, [subscriberPagination.hasPrevPage]);\r\n\r\n  const handleRefreshSubscribers = useCallback(async () => {\r\n    const key = adminKey.trim();\r\n    if (!key) {\r\n      handleAdminError('Enter the admin key before managing subscribers.');\r\n      return;\r\n    }\r\n    resetMessages();\r\n    await loadSubscribers(undefined, { page: subscriberPage, search: subscriberSearch });\r\n  }, [adminKey, handleAdminError, loadSubscribers, subscriberPage, subscriberSearch, resetMessages]);\r\n\r\n  const marketingStatsCards = useMemo(() => {\r\n    if (!marketingHealth) {\r\n      return [\r\n        { label: 'Pending Jobs', value: '-', subtext: 'Awaiting marketing digest' },\r\n        { label: 'Last Run', value: '-', subtext: 'No data yet' },\r\n        { label: 'Failure Rate (24h)', value: '-', subtext: 'Monitor delivery health' },\r\n        { label: 'Runs (24h)', value: '-', subtext: 'Success / total' },\r\n      ];\r\n    }\r\n\r\n    const failureRate = `${marketingHealth.failureRate24h.toFixed(2)}%`;\r\n    const runRatio = `${marketingHealth.runs24h - marketingHealth.failures24h}/${marketingHealth.runs24h}`;\r\n\r\n    return [\r\n      {\r\n        label: 'Pending Jobs',\r\n        value: marketingHealth.pendingJobsCount,\r\n        subtext: 'Awaiting marketing digest',\r\n      },\r\n      {\r\n        label: 'Last Run',\r\n        value: formatDateTime(marketingHealth.lastRunAt),\r\n        subtext: marketingHealth.lastBatchId ? `Batch ${marketingHealth.lastBatchId}` : 'No batch id yet',\r\n      },\r\n      {\r\n        label: 'Failure Rate (24h)',\r\n        value: failureRate,\r\n        subtext: 'Monitor delivery health',\r\n      },\r\n      {\r\n        label: 'Runs (24h)',\r\n        value: runRatio,\r\n        subtext: `${marketingHealth.failures24h} failures`,\r\n      },\r\n    ];\r\n  }, [marketingHealth]);\r\n\r\n  const hasAdminKey = adminKey.trim().length > 0;\r\n  \r\n  return (\r\n    <div className={styles.container}>\r\n      {showKeyInput ? (\r\n        <div className={styles.section}>\r\n          <h2 className={styles.sectionTitle}>Admin Access</h2>\r\n          <form onSubmit={handleAdminSubmit} className={styles.form}>\r\n            <input\r\n              type=\"password\"\r\n              value={adminKeyInput}\r\n              onChange={(event) => setAdminKeyInput(event.target.value)}\r\n              placeholder=\"Enter Admin Key\"\r\n              className={styles.textInput}\r\n              autoFocus\r\n            />\r\n            <button type=\"submit\" className={styles.button}>\r\n              Access Dashboard\r\n            </button>\r\n          </form>\r\n          {errorMessage && <div className={styles.messageError}>{errorMessage}</div>}\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className={styles.actionsRow}>\r\n            <button onClick={handleClearAdminKey} className={styles.buttonMuted}>\r\n              Reset Admin Key\r\n            </button>\r\n          </div>\r\n          \r\n          <div className={styles.cardGrid}>\r\n            {marketingStatsCards.map((card, index) => (\r\n              <div key={index} className={styles.card}>\r\n                <div className={styles.cardLabel}>{card.label}</div>\r\n                <div className={styles.cardValue}>{card.value}</div>\r\n                <div className={styles.cardSubtext}>{card.subtext}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {statusMessage && <div className={styles.messageSuccess}>{statusMessage}</div>}\r\n          {errorMessage && <div className={styles.messageError}>{errorMessage}</div>}\r\n\r\n          <div className={styles.section}>\r\n            <h2 className={styles.sectionTitle}>Upload Subscriber CSV</h2>\r\n            <form\r\n              onSubmit={async (event) => {\r\n                event.preventDefault();\r\n              if (!selectedFile) {\r\n                handleAdminError('Please choose a CSV file that contains name and email columns.');\r\n                return;\r\n              }\r\n\r\n              setIsUploading(true);\r\n              resetMessages();\r\n              try {\r\n                  const response = await notificationAdminAPI.uploadSubscribersCsv(selectedFile, adminKey);\r\n                setCsvSummary(response.data || null);\r\n                  setStatusMessage(response.message || 'Subscriber list processed successfully.');\r\n\r\n                if (fileInputRef.current) {\r\n                  fileInputRef.current.value = '';\r\n                }\r\n                setSelectedFile(null);\r\n\r\n                  await Promise.all([loadJobs(adminKey), loadLogs(adminKey)]);\r\n              } catch (error: any) {\r\n                handleAdminError(error?.message || 'Failed to upload subscriber CSV');\r\n              } finally {\r\n                setIsUploading(false);\r\n              }\r\n              }}\r\n              className={styles.form}\r\n            >\r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\".csv\"\r\n                onChange={(event) => {\r\n                  resetMessages();\r\n                  const file = event.target.files && event.target.files[0];\r\n                  setSelectedFile(file || null);\r\n                  setCsvSummary(null);\r\n                }}\r\n                className={styles.fileInput}\r\n              />\r\n              <button type=\"submit\" className={styles.button} disabled={isUploading}>\r\n                {isUploading ? 'Uploadingâ€¦' : 'Upload CSV'}\r\n              </button>\r\n              {selectedFile && <span className={styles.helperText}>{selectedFile.name}</span>}\r\n            </form>\r\n\r\n            {csvSummary && (\r\n              <div className={styles.list}>\r\n                <h3>Upload Summary</h3>\r\n                <div>Processed rows: {csvSummary.processed}</div>\r\n                <div>Inserted: {csvSummary.inserted}</div>\r\n                <div>Updated: {csvSummary.updated}</div>\r\n                <div>Skipped: {csvSummary.skipped}</div>\r\n                {csvSummary.errors?.length ? (\r\n                  <details>\r\n                    <summary>{csvSummary.errors.length} issue(s)</summary>\r\n                    <div className={styles.codeBlock}>\r\n                      {csvSummary.errors\r\n                        .slice(0, 10)\r\n                        .map((entry, index) => `Row ${entry.row}: ${entry.email || 'unknown'} â€” ${entry.message}`)\r\n                        .join('\\n')}\r\n                      {csvSummary.errors.length > 10 && '\\nâ€¦'}\r\n                    </div>\r\n                  </details>\r\n                ) : null}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.section}>\r\n            <h2 className={styles.sectionTitle}>Trigger Marketing Digest</h2>\r\n            <div className={styles.actionsRow}>\r\n              <button \r\n                onClick={async () => {\r\n                  setIsSending(true);\r\n                  resetMessages();\r\n                  try {\r\n                    const response = await notificationService.triggerMarketingDigest({\r\n                      adminKey,\r\n                      force: true,\r\n                    });\r\n\r\n                    if (response.success) {\r\n                      setMarketingRunSummary(response.data || null);\r\n                      setStatusMessage(response.message || 'Marketing digest triggered successfully.');\r\n                    }\r\n\r\n                    await Promise.all([loadMarketingHealth(adminKey), loadLogs(adminKey), loadJobs(adminKey)]);\r\n                  } catch (error: any) {\r\n                    handleAdminError(error?.message || 'Failed to trigger marketing digest');\r\n                  } finally {\r\n                    setIsSending(false);\r\n                  }\r\n                }}\r\n                className={styles.button}\r\n                disabled={isSending}\r\n              >\r\n                {isSending ? 'Sendingâ€¦' : 'Send Digest Now'}\r\n              </button>\r\n            </div>\r\n\r\n            {marketingRunSummary && (\r\n              <div className={styles.list}>\r\n                <h3>Last Run Summary</h3>\r\n                <div>Status: {marketingRunSummary.ok ? 'Success' : marketingRunSummary.skipped ? 'Skipped' : 'Completed with issues'}</div>\r\n                <div>Batch ID: {marketingRunSummary.batchId}</div>\r\n                <div>Jobs queried: {marketingRunSummary.jobsQueried}</div>\r\n                <div>Jobs included: {marketingRunSummary.jobsIncluded}</div>\r\n                <div>Contacts attempted: {marketingRunSummary.contactsAttempted}</div>\r\n                <div>Contacts succeeded: {marketingRunSummary.contactsSucceeded}</div>\r\n                <div>Contacts failed: {marketingRunSummary.contactsFailed}</div>\r\n                <div>Started: {formatDateTime(marketingRunSummary.startedAt)}</div>\r\n                <div>Finished: {formatDateTime(marketingRunSummary.finishedAt)}</div>\r\n                {marketingRunSummary.reason && <div>Reason: {marketingRunSummary.reason}</div>}\r\n                {marketingRunSummary.errors && marketingRunSummary.errors.length > 0 && (\r\n                  <details>\r\n                    <summary>View errors ({marketingRunSummary.errors.length})</summary>\r\n                    <div className={styles.codeBlock}>\r\n                      {marketingRunSummary.errors\r\n                        .map((entry, index) => `${index + 1}. ${typeof entry === 'string' ? entry : JSON.stringify(entry)}`)\r\n                        .join('\\n')}\r\n                    </div>\r\n                  </details>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.section}>\r\n            <h2 className={styles.sectionTitle}>Fresher Notification Subscribers</h2>\r\n            {!hasAdminKey ? (\r\n              <p>Please enter the admin key to view subscribers.</p>\r\n            ) : (\r\n              <>\r\n                <form className={styles.form} onSubmit={handleSubscriberSearchSubmit}>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={subscriberSearchInput}\r\n                    onChange={(event) => setSubscriberSearchInput(event.target.value)}\r\n                    placeholder=\"Search subscribers by name or email...\"\r\n                    className={styles.textInput}\r\n                  />\r\n                  <button type=\"submit\" className={styles.buttonGhost} disabled={isLoadingSubscribers}>\r\n                    Search\r\n                  </button>\r\n                  {(subscriberSearch || subscriberSearchInput) && (\r\n                    <button\r\n                      type=\"button\"\r\n                      className={styles.buttonGhost}\r\n                      onClick={handleClearSubscriberSearch}\r\n                      disabled={isLoadingSubscribers}\r\n                    >\r\n                      Clear\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    type=\"button\"\r\n                    className={styles.buttonGhost}\r\n                    onClick={handleRefreshSubscribers}\r\n                    disabled={isLoadingSubscribers}\r\n                  >\r\n                    Refresh\r\n                  </button>\r\n                </form>\r\n\r\n                {isLoadingSubscribers ? (\r\n                  <p>Loading subscribersâ€¦</p>\r\n                ) : subscribers.length === 0 ? (\r\n                  <p>No subscribers found.</p>\r\n                ) : (\r\n                  <div className={styles.tableContainer}>\r\n                    <table className={styles.table}>\r\n                      <thead>\r\n                        <tr>\r\n                          <th className={styles.tableHeader}>Full name</th>\r\n                          <th className={styles.tableHeader}>Email</th>\r\n                          <th className={styles.tableHeader}>Mobile</th>\r\n                          <th className={styles.tableHeader}>Branch</th>\r\n                          <th className={styles.tableHeader}>Experience</th>\r\n                          <th className={styles.tableHeader}>Subscribed At</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {subscribers.map((subscriber) => (\r\n                          <tr key={subscriber.id}>\r\n                            <td className={styles.tableCell}>{subscriber.fullName || 'Subscriber'}</td>\r\n                            <td className={styles.tableCell}>{subscriber.email}</td>\r\n                            <td className={styles.tableCell}>{subscriber.mobileNo || 'â€”'}</td>\r\n                            <td className={styles.tableCell}>{subscriber.branch || 'â€”'}</td>\r\n                            <td className={styles.tableCell}>{subscriber.experience || 'â€”'}</td>\r\n                            <td className={styles.tableCell}>{formatDateTime(subscriber.createdAt)}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n\r\n                <div className={styles.actionsRow}>\r\n                  <span className={styles.helperText}>\r\n                    {subscriberPagination.total > 0\r\n                      ? `Page ${subscriberPagination.page} of ${Math.max(subscriberPagination.totalPages, 1)} â€¢ Total subscribers: ${subscriberPagination.total}`\r\n                      : 'No subscribers available'}\r\n                  </span>\r\n                  <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n                    <button\r\n                      type=\"button\"\r\n                      className={styles.buttonGhost}\r\n                      onClick={handlePrevSubscribersPage}\r\n                      disabled={!subscriberPagination.hasPrevPage || isLoadingSubscribers}\r\n                    >\r\n                      Previous\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className={styles.buttonGhost}\r\n                      onClick={handleNextSubscribersPage}\r\n                      disabled={!subscriberPagination.hasNextPage || isLoadingSubscribers}\r\n                    >\r\n                      Next\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.section}>\r\n            <h2 className={styles.sectionTitle}>Marketing Contacts</h2>\r\n            {!hasAdminKey ? (\r\n              <p>Please enter the admin key to manage marketing contacts.</p>\r\n            ) : (\r\n              <>\r\n                <form className={styles.form} onSubmit={handleContactSubmit}>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={contactForm.fullName}\r\n                    onChange={handleContactInputChange('fullName')}\r\n                    placeholder=\"Full name\"\r\n                    className={styles.textInput}\r\n                    required\r\n                  />\r\n                  <input\r\n                    type=\"email\"\r\n                    value={contactForm.email}\r\n                    onChange={handleContactInputChange('email')}\r\n                    placeholder=\"Email address\"\r\n                    className={styles.textInput}\r\n                    required\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={contactForm.mobileNo}\r\n                    onChange={handleContactInputChange('mobileNo')}\r\n                    placeholder=\"Mobile number (optional)\"\r\n                    className={styles.textInput}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={contactForm.branch}\r\n                    onChange={handleContactInputChange('branch')}\r\n                    placeholder=\"Branch (optional)\"\r\n                    className={styles.textInput}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={contactForm.experience}\r\n                    onChange={handleContactInputChange('experience')}\r\n                    placeholder=\"Experience (optional)\"\r\n                    className={styles.textInput}\r\n                  />\r\n                  <button type=\"submit\" className={styles.button} disabled={isSavingContact}>\r\n                    {editingContactId ? (isSavingContact ? 'Updatingâ€¦' : 'Update contact') : isSavingContact ? 'Savingâ€¦' : 'Add contact'}\r\n                  </button>\r\n                  {editingContactId && (\r\n                    <button\r\n                      type=\"button\"\r\n                      className={styles.buttonGhost}\r\n                      onClick={handleCancelEditContact}\r\n                      disabled={isSavingContact}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  )}\r\n                </form>\r\n\r\n                <form className={styles.form} onSubmit={handleContactSearchSubmit}>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={marketingSearchInput}\r\n                    onChange={(event) => setMarketingSearchInput(event.target.value)}\r\n                    placeholder=\"Search contacts...\"\r\n                    className={styles.textInput}\r\n                  />\r\n                  <button type=\"submit\" className={styles.buttonGhost} disabled={isLoadingMarketingContacts}>\r\n                    Search\r\n                  </button>\r\n                  {(marketingSearch || marketingSearchInput) && (\r\n                  <button \r\n                      type=\"button\"\r\n                      className={styles.buttonGhost}\r\n                      onClick={handleClearContactSearch}\r\n                      disabled={isLoadingMarketingContacts}\r\n                    >\r\n                      Clear\r\n                  </button>\r\n                  )}\r\n                  <button\r\n                    type=\"button\"\r\n                    className={styles.buttonGhost}\r\n                    onClick={handleRefreshContacts}\r\n                    disabled={isLoadingMarketingContacts}\r\n                  >\r\n                    Refresh\r\n                  </button>\r\n                </form>\r\n\r\n                {isLoadingMarketingContacts ? (\r\n                  <p>Loading marketing contactsâ€¦</p>\r\n                ) : marketingContacts.length === 0 ? (\r\n                  <p>No marketing contacts found.</p>\r\n                ) : (\r\n                  <div className={styles.tableContainer}>\r\n                <table className={styles.table}>\r\n                  <thead>\r\n                    <tr>\r\n                      <th className={styles.tableHeader}>Name</th>\r\n                      <th className={styles.tableHeader}>Email</th>\r\n                          <th className={styles.tableHeader}>Mobile</th>\r\n                          <th className={styles.tableHeader}>Branch</th>\r\n                          <th className={styles.tableHeader}>Experience</th>\r\n                          <th className={styles.tableHeader}>Created</th>\r\n                          <th className={styles.tableHeader}>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {marketingContacts.map((contact) => (\r\n                      <tr key={contact.id}>\r\n                            <td className={styles.tableCell}>{contact.fullName}</td>\r\n                        <td className={styles.tableCell}>{contact.email}</td>\r\n                            <td className={styles.tableCell}>{contact.mobileNo || 'â€”'}</td>\r\n                            <td className={styles.tableCell}>{contact.branch || 'â€”'}</td>\r\n                            <td className={styles.tableCell}>{contact.experience || 'â€”'}</td>\r\n                            <td className={styles.tableCell}>{formatDateTime(contact.createdAt)}</td>\r\n                        <td className={styles.tableCell}>\r\n                              <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className={styles.buttonGhost}\r\n                                  onClick={() => handleEditContact(contact)}\r\n                                  disabled={isSavingContact && editingContactId === contact.id}\r\n                                >\r\n                                  Edit\r\n                                </button>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  style={{\r\n                                    background: '#ef4444',\r\n                                    color: '#ffffff',\r\n                                    border: 'none',\r\n                                    borderRadius: '8px',\r\n                                    padding: '8px 14px',\r\n                                    cursor: 'pointer',\r\n                                    fontWeight: 600,\r\n                                    opacity: deletingContactId === contact.id ? 0.7 : 1,\r\n                                  }}\r\n                                  onClick={() => handleDeleteContact(contact.id)}\r\n                                  disabled={deletingContactId === contact.id}\r\n                                >\r\n                                  {deletingContactId === contact.id ? 'Deletingâ€¦' : 'Delete'}\r\n                                </button>\r\n                              </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n                  </div>\r\n                )}\r\n\r\n                <div className={styles.actionsRow}>\r\n                  <span className={styles.helperText}>\r\n                    {marketingPagination.total > 0\r\n                      ? `Page ${marketingPagination.page} of ${Math.max(marketingPagination.totalPages, 1)} â€¢ Total contacts: ${marketingPagination.total}`\r\n                      : 'No contacts available'}\r\n                  </span>\r\n                  <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n                    <button\r\n                      type=\"button\"\r\n                      className={styles.buttonGhost}\r\n                      onClick={handlePrevContactsPage}\r\n                      disabled={!marketingPagination.hasPrevPage || isLoadingMarketingContacts}\r\n                    >\r\n                      Previous\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className={styles.buttonGhost}\r\n                      onClick={handleNextContactsPage}\r\n                      disabled={!marketingPagination.hasNextPage || isLoadingMarketingContacts}\r\n                    >\r\n                      Next\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.section}>\r\n            <h2 className={styles.sectionTitle}>Fresher Jobs Queue</h2>\r\n            {!hasAdminKey ? (\r\n              <p>Please enter the admin key to load jobs.</p>\r\n            ) : isLoadingJobs ? (\r\n              <p>Loading fresher jobsâ€¦</p>\r\n            ) : jobs.length === 0 ? (\r\n              <p>No fresher jobs found.</p>\r\n            ) : (\r\n              <div className={styles.tableContainer}>\r\n                <table className={styles.table}>\r\n                  <thead>\r\n                    <tr>\r\n                      <th className={styles.tableHeader}>Title</th>\r\n                      <th className={styles.tableHeader}>Company</th>\r\n                      <th className={styles.tableHeader}>Location</th>\r\n                      <th className={styles.tableHeader}>Experience</th>\r\n                      <th className={styles.tableHeader}>Created</th>\r\n                      <th className={styles.tableHeader}>Notified</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {jobs.map((job) => (\r\n                      <tr key={job.id}>\r\n                        <td className={styles.tableCell}>{job.title}</td>\r\n                        <td className={styles.tableCell}>{job.company || 'â€”'}</td>\r\n                        <td className={styles.tableCell}>{job.location || 'â€”'}</td>\r\n                        <td className={styles.tableCell}>{job.experience || 'â€”'}</td>\r\n                        <td className={styles.tableCell}>{formatDateTime(job.createdAt)}</td>\r\n                        <td className={styles.tableCell}>\r\n                          <span className={`${styles.badge} ${Number(job.notifySent) === 1 ? styles.badgeSuccess : styles.badgeWarning}`}>\r\n                            {Number(job.notifySent) === 1 ? 'Sent' : 'Pending'}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.section}>\r\n            <div className={styles.actionsRow}>\r\n              <h2 className={styles.sectionTitle}>Recent Notification Logs</h2>\r\n              <button\r\n                onClick={() => loadLogs()}\r\n                className={styles.buttonGhost}\r\n                disabled={!hasAdminKey || isLoadingLogs}\r\n              >\r\n                {isLoadingLogs ? 'Refreshingâ€¦' : 'Refresh logs'}\r\n              </button>\r\n            </div>\r\n\r\n            {!hasAdminKey ? (\r\n              <p>Please enter the admin key to view logs.</p>\r\n            ) : (\r\n              <div className={styles.logColumns}>\r\n                <div>\r\n                  <h3 className={styles.logTitle}>Successful deliveries</h3>\r\n                  {logs.success?.length ? (\r\n                    <div className={styles.logList}>\r\n                      {logs.success.map((entry, index) => (\r\n                        <div key={`success-${index}`} className={styles.logSuccess}>\r\n                          <div className={styles.logTimestamp}>{entry.timestamp || 'Unknown time'}</div>\r\n                          <div className={styles.logStatus}>{entry.status}</div>\r\n                          {entry.meta && (\r\n                            <div className={styles.logMeta}>{typeof entry.meta === 'string' ? entry.meta : JSON.stringify(entry.meta)}</div>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <p className={styles.mutedText}>No success logs yet.</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div>\r\n                  <h3 className={styles.logTitle}>Failures & warnings</h3>\r\n                  {logs.failed?.length ? (\r\n                    <div className={styles.logList}>\r\n                      {logs.failed.map((entry, index) => (\r\n                        <div key={`failed-${index}`} className={styles.logFailure}>\r\n                          <div className={styles.logTimestamp}>{entry.timestamp || 'Unknown time'}</div>\r\n                          <div className={styles.logStatus}>{entry.status}</div>\r\n                          {entry.meta && (\r\n                            <div className={styles.logMeta}>{typeof entry.meta === 'string' ? entry.meta : JSON.stringify(entry.meta)}</div>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <p className={styles.mutedText}>No failure logs captured.</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationDashboard;"],"names":["API_URL","concat","API_BASE_URL","NotificationService","constructor","getInstance","instance","request","endpoint","options","method","adminKey","marketingToken","data","params","headers","requestHeaders","_objectSpread","axios","url","error","_error$response","_error$response$data","_error$response2","_error$response2$data","isAxiosError","Error","response","message","fetchFresherJobs","this","includeNotified","fetchLogs","limit","fetchMarketingHealth","fetchMarketingContacts","page","pageSize","search","sortBy","sortDirection","createMarketingContact","fullName","payload","email","mobileNo","branch","experience","updateMarketingContact","contactId","deleteMarketingContact","fetchFresherSubscribers","uploadSubscribersCsv","file","formData","FormData","append","triggerMarketingDigest","force","ADMIN_KEY_STORAGE","createEmptyContactForm","createDefaultContactPagination","total","totalPages","hasNextPage","hasPrevPage","createDefaultSubscriberPagination","formatDateTime","value","Date","toLocaleString","NotificationDashboard","_csvSummary$errors","_logs$success","_logs$failed","setAdminKey","useState","adminKeyInput","setAdminKeyInput","showKeyInput","setShowKeyInput","jobs","setJobs","logs","setLogs","success","failed","selectedFile","setSelectedFile","csvSummary","setCsvSummary","marketingHealth","setMarketingHealth","marketingRunSummary","setMarketingRunSummary","marketingContacts","setMarketingContacts","marketingPagination","setMarketingPagination","marketingPage","setMarketingPage","marketingSearchInput","setMarketingSearchInput","marketingSearch","setMarketingSearch","isLoadingMarketingContacts","setIsLoadingMarketingContacts","contactForm","setContactForm","editingContactId","setEditingContactId","isSavingContact","setIsSavingContact","deletingContactId","setDeletingContactId","subscribers","setSubscribers","subscriberPagination","setSubscriberPagination","subscriberPage","setSubscriberPage","subscriberSearchInput","setSubscriberSearchInput","subscriberSearch","setSubscriberSearch","isLoadingSubscribers","setIsLoadingSubscribers","statusMessage","setStatusMessage","errorMessage","setErrorMessage","isLoadingJobs","setIsLoadingJobs","isLoadingLogs","setIsLoadingLogs","isUploading","setIsUploading","isSending","setIsSending","fileInputRef","useRef","useEffect","storedKey","localStorage","getItem","clearState","useCallback","resetMessages","clearStoredAdminKey","removeItem","handleAdminError","normalized","toLowerCase","includes","loadJobs","async","_ref","keyToUse","overrideKey","trim","_response$data","notificationAdminAPI","loadLogs","_ref2","loadMarketingHealth","_ref3","notificationService","_data$last_run_at","_data$last_batch_id","_data$pending_jobs_co","_data$failure_rate_","_data$runs_24h","_data$failures_24h","lastRunAt","last_run_at","lastBatchId","last_batch_id","pendingJobsCount","pending_jobs_count","failureRate24h","failure_rate_24h","runs24h","runs_24h","failures24h","failures_24h","console","loadMarketingContacts","_ref4","_overrides$page","_overrides$search","overrides","arguments","length","undefined","targetPage","searchValue","contacts","pagination","_payload$contacts$len","_payload$contacts","fallbackPagination","loadSubscribers","_ref5","_overrides$page2","_overrides$search2","_payload$subscribers$","_payload$subscribers","handleAdminSubmit","event","preventDefault","trimmedKey","setItem","Promise","all","handleClearAdminKey","handleContactInputChange","field","target","prev","handleContactSubmit","key","handleEditContact","contact","_contact$mobileNo","_contact$branch","_contact$experience","id","handleCancelEditContact","handleDeleteContact","window","confirm","Math","max","handleContactSearchSubmit","handleClearContactSearch","handleNextContactsPage","handlePrevContactsPage","handleRefreshContacts","handleSubscriberSearchSubmit","handleClearSubscriberSearch","handleNextSubscribersPage","handlePrevSubscribersPage","handleRefreshSubscribers","marketingStatsCards","useMemo","label","subtext","failureRate","toFixed","runRatio","hasAdminKey","_jsx","className","styles","container","children","_jsxs","section","sectionTitle","onSubmit","form","type","onChange","placeholder","textInput","autoFocus","button","messageError","_Fragment","actionsRow","onClick","buttonMuted","cardGrid","map","card","index","cardLabel","cardValue","cardSubtext","messageSuccess","current","ref","accept","files","fileInput","disabled","helperText","name","list","processed","inserted","updated","skipped","errors","codeBlock","slice","entry","row","join","ok","batchId","jobsQueried","jobsIncluded","contactsAttempted","contactsSucceeded","contactsFailed","startedAt","finishedAt","reason","JSON","stringify","buttonGhost","tableContainer","table","tableHeader","subscriber","tableCell","createdAt","style","display","gap","flexWrap","required","background","color","border","borderRadius","padding","cursor","fontWeight","opacity","job","title","company","location","badge","Number","notifySent","badgeSuccess","badgeWarning","logColumns","logTitle","logList","logSuccess","logTimestamp","timestamp","logStatus","status","meta","logMeta","mutedText","logFailure"],"sourceRoot":""}