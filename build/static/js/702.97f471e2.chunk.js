/*! For license information please see 702.97f471e2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmycareerbuild_portal=self.webpackChunkmycareerbuild_portal||[]).push([[702],{797:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},1680:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},2702:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var s=t(9379),l=t(5043),i=t(3216),r=t(9570),o=t(6446),n=t(4459),d=t(7033),c=t(3944),h=t(1680),m=t(3528),x=t(7784);const u=(0,x.A)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var p=t(9233);const b=(0,x.A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var v=t(2983),g=t(9292),f=t(2382),y=t(9493),j=t(614),w=t(6625),N=t(6291),k=t(4172),A=t(4947),P=t(579);const C=()=>{const{user:e,logout:a}=(0,w.A)(),t=(0,i.zy)(),x=(0,i.Zp)(),[C,U]=(0,l.useState)(null),[S,T]=(0,l.useState)(!0),{isSidebarOpen:z,toggleSidebar:M,closeSidebar:H,isMobileOrTablet:L}=(0,A.YZ)(),[E,_]=(0,l.useState)(""),[D,R]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{if(e){T(!0);try{const a=await N.lu.fetchUserById(e.id);U(a)}catch(a){console.error("Error loading user profile:",a),U(null)}finally{T(!1)}}})()},[e]),(0,l.useEffect)(()=>{const e=e=>{e.target.closest(".user-menu-container")||R(!1)};return D&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[D]);const O=()=>{a()},V=(e,a)=>{a?a():e&&x(e)},B=t.pathname.startsWith("/dashboard/my-resume");(0,l.useEffect)(()=>{if(L&&z){window.matchMedia("(max-width: 1023px)").matches&&H()}},[t.pathname]);const W=e=>{C&&U((0,s.A)((0,s.A)({},C),{},{avatarUrl:e}))},I=[{id:"profile",label:"Profile",icon:n.A,path:"/dashboard/profile",action:void 0},{id:"analytics",label:"Analytics",icon:d.A,path:"/dashboard/analytics",action:void 0},{id:"recommended",label:"Recommended",icon:c.A,path:"/dashboard/recommended",action:void 0},{id:"resume",label:"My Resume",icon:h.A,path:"/dashboard/my-resume",action:void 0},{id:"saved",label:"Saved Jobs",icon:m.A,path:"/dashboard/saved",action:void 0},{id:"applied",label:"Applied Jobs",icon:u,path:"/dashboard/applied",action:void 0},{id:"alerts",label:"Job Alerts",icon:p.A,path:"/dashboard/alerts",action:void 0},{id:"cv-manager",label:"CV Manager",icon:b,path:"/dashboard/cv-manager",action:void 0}],F=e=>t.pathname===e||t.pathname.startsWith(e+"/");return(0,P.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,P.jsx)("header",{className:"hidden md:block fixed top-0 left-0 w-full bg-blue-600 text-white shadow-md z-50",children:(0,P.jsxs)("div",{className:"flex items-center justify-between px-6 py-3",children:[(0,P.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[L&&(0,P.jsx)("button",{className:"p-2 hover:bg-blue-700 rounded-lg transition-colors",onClick:M,children:(0,P.jsx)(v.A,{size:20})}),(0,P.jsx)("h1",{className:"text-lg sm:text-xl font-semibold",children:"mycareerbuild Dashboard"})]}),(0,P.jsx)("div",{className:"hidden md:flex flex-1 max-w-md mx-8 lg:max-w-lg xl:max-w-xl",children:(0,P.jsxs)("div",{className:"relative w-full",children:[(0,P.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,P.jsx)("input",{type:"text",placeholder:"Search jobs, companies...",value:E,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg text-sm text-gray-800 bg-white border-0 focus:ring-2 focus:ring-blue-300 focus:outline-none"})]})}),(0,P.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,P.jsx)("button",{className:"p-2 hover:bg-blue-700 rounded-lg transition-colors",children:(0,P.jsx)(p.A,{size:20})}),(0,P.jsxs)("div",{className:"relative user-menu-container",children:[(0,P.jsxs)("button",{className:"flex items-center gap-2 p-2 hover:bg-blue-700 rounded-lg transition-colors",onClick:()=>R(!D),children:[(0,P.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-sm font-semibold",children:S?"...":C?C.name?C.name.split(" ").map(e=>e[0]).join("").toUpperCase():"U":null!==e&&void 0!==e&&e.name?e.name.split(" ").map(e=>e[0]).join("").toUpperCase():"U"}),(0,P.jsx)(f.A,{size:16})]}),(0,P.jsx)(r.N,{children:D&&(0,P.jsxs)(o.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,P.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,P.jsx)("p",{className:"text-sm font-medium text-gray-800",children:S?"Loading...":(null===C||void 0===C?void 0:C.name)||(null===e||void 0===e?void 0:e.name)||"User"}),(0,P.jsx)("p",{className:"text-xs text-gray-500",children:S?"Loading...":(null===C||void 0===C?void 0:C.professionalTitle)||(null===C||void 0===C?void 0:C.jobTitle)||"Professional"})]}),(0,P.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>{x("/dashboard/profile"),R(!1)},children:[(0,P.jsx)(n.A,{size:16,className:"inline mr-2"}),"Profile Settings"]}),(0,P.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>{O(),R(!1)},children:[(0,P.jsx)(y.A,{size:16,className:"inline mr-2"}),"Logout"]})]})})]})]})]})}),(0,P.jsxs)("div",{className:"flex w-full max-w-7xl mx-auto gap-4 sm:gap-6 px-4 lg:px-6 relative overflow-x-hidden pt-6 md:pt-16",children:[(0,P.jsx)(r.N,{mode:"wait",children:!B&&(0,P.jsxs)(o.P.aside,{className:"hidden lg:flex w-64 h-auto sticky top-16 bg-white border border-gray-200 shadow-lg rounded-xl flex-col",initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{duration:.3,ease:"easeOut"},children:[(0,P.jsx)("div",{className:"p-5 border-b border-gray-200 bg-gradient-to-br from-blue-50/80 to-blue-100/40 flex-shrink-0",children:(0,P.jsx)(k.A,{currentAvatarUrl:null===C||void 0===C?void 0:C.avatarUrl,userName:(null===C||void 0===C?void 0:C.name)||(null===e||void 0===e?void 0:e.name)||"User",userTitle:(null===C||void 0===C?void 0:C.professionalTitle)||(null===C||void 0===C?void 0:C.jobTitle)||"Professional",onAvatarUpdate:W,size:"md",showName:!0,showTitle:!0})}),(0,P.jsx)("nav",{className:"flex flex-col gap-1.5 p-3 flex-shrink-0",children:I.map(e=>(0,P.jsxs)(o.P.button,{whileHover:{x:2},transition:{duration:.2},className:"relative flex items-center gap-2.5 px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-300 ".concat(F(e.path||"")?"bg-[#3b82f6] text-white font-semibold shadow-md shadow-blue-500/30":"bg-white text-gray-700 hover:bg-blue-50 hover:text-blue-600"),onClick:()=>V(e.path||"",e.action),children:[(0,P.jsx)("div",{className:"p-1.5 rounded-md ".concat(F(e.path||"")?"bg-white/20":"bg-gray-100"),children:(0,P.jsx)(e.icon,{className:"h-5 w-5 shrink-0 ".concat(F(e.path||"")?"text-white":"text-gray-600")})}),(0,P.jsx)("span",{className:"flex-1 text-left ".concat(F(e.path||"")?"text-white":"text-gray-700"),children:e.label}),F(e.path||"")&&(0,P.jsx)("div",{className:"absolute right-2 w-1 h-6 bg-white/30 rounded-full"})]},e.id))}),(0,P.jsx)("div",{className:"p-3 border-t border-gray-200 flex-shrink-0",children:(0,P.jsxs)(o.P.button,{whileHover:{x:2},transition:{duration:.2},onClick:O,className:"w-full flex items-center gap-2.5 px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-300 bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700",children:[(0,P.jsx)("div",{className:"p-1.5 rounded-md bg-red-100",children:(0,P.jsx)(y.A,{className:"h-5 w-5 shrink-0 text-red-600"})}),(0,P.jsx)("span",{className:"flex-1 text-left",children:"Logout"})]})})]},"desktop-sidebar")}),!B&&(0,P.jsx)(r.N,{children:z&&L&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:H}),(0,P.jsxs)(o.P.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 w-72 lg:w-64 h-screen bg-white shadow-xl z-50 lg:hidden border-r border-gray-200 flex flex-col overflow-hidden",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50/80 to-blue-100/40 flex-shrink-0",children:[(0,P.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Menu"}),(0,P.jsx)("button",{onClick:H,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,P.jsx)(j.A,{className:"h-5 w-5 text-gray-600"})})]}),(0,P.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-br from-blue-50/80 to-blue-100/40 flex-shrink-0",children:(0,P.jsx)(k.A,{currentAvatarUrl:null===C||void 0===C?void 0:C.avatarUrl,userName:(null===C||void 0===C?void 0:C.name)||(null===e||void 0===e?void 0:e.name)||"User",userTitle:(null===C||void 0===C?void 0:C.professionalTitle)||(null===C||void 0===C?void 0:C.jobTitle)||"Professional",onAvatarUpdate:W,size:"sm",showName:!0,showTitle:!0})}),(0,P.jsxs)("nav",{className:"flex-1 flex flex-col overflow-y-auto overflow-x-hidden min-h-0 px-4 pt-4 pb-24 md:pb-32",children:[(0,P.jsx)("div",{className:"flex flex-col gap-2 pb-2",children:I.map(e=>(0,P.jsxs)(o.P.button,{whileHover:{x:2},transition:{duration:.2},className:"relative flex items-center gap-2.5 px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-300 ".concat(F(e.path||"")?"bg-[#3b82f6] text-white font-semibold shadow-md shadow-blue-500/30":"bg-white text-gray-700 hover:bg-blue-50 hover:text-blue-600"),onClick:()=>{V(e.path||"",e.action),H()},children:[(0,P.jsx)("div",{className:"p-1.5 rounded-md ".concat(F(e.path||"")?"bg-white/20":"bg-gray-100"),children:(0,P.jsx)(e.icon,{className:"h-5 w-5 shrink-0 ".concat(F(e.path||"")?"text-white":"text-gray-600")})}),(0,P.jsx)("span",{className:"flex-1 text-left ".concat(F(e.path||"")?"text-white":"text-gray-700"),children:e.label}),F(e.path||"")&&(0,P.jsx)("div",{className:"absolute right-2 w-1 h-6 bg-white/30 rounded-full"})]},e.id))}),(0,P.jsx)("div",{className:"flex-shrink-0 mt-auto pt-3 pb-8 md:pb-12 border-t border-gray-200",children:(0,P.jsxs)(o.P.button,{whileHover:{x:2},transition:{duration:.2},onClick:()=>{O(),H()},className:"w-full flex items-center gap-2.5 px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-300 bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700",children:[(0,P.jsx)("div",{className:"p-1.5 rounded-md bg-red-100",children:(0,P.jsx)(y.A,{className:"h-5 w-5 shrink-0 text-red-600"})}),(0,P.jsx)("span",{className:"flex-1 text-left",children:"Logout"})]})})]})]})]})}),(0,P.jsx)("div",{className:"flex-1 min-h-screen min-w-0 max-w-full pt-0 w-full lg:w-auto",children:(0,P.jsx)(o.P.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"container max-w-7xl mx-auto w-full px-4 sm:px-6",children:(0,P.jsx)(i.sv,{})},t.pathname)})]})]})}},3528:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},3944:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},4172:(e,a,t)=>{t.d(a,{A:()=>m});var s=t(5043),l=t(9570),i=t(6446),r=t(797);const o=(0,t(7784).A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var n=t(614),d=t(6291),c=t(2339),h=t(579);const m=e=>{let{currentAvatarUrl:a,userName:t="User",onAvatarUpdate:m,size:x="md",showName:u=!0,showTitle:p=!0,userTitle:b="Professional"}=e;const[v,g]=(0,s.useState)(!1),[f,y]=(0,s.useState)(0),[j,w]=(0,s.useState)(null),[N,k]=(0,s.useState)(!1),A=(0,s.useRef)(null),P={sm:{avatar:"w-12 h-12",camera:"w-4 h-4",cameraButton:"w-5 h-5"},md:{avatar:"w-16 h-16",camera:"w-3 h-3",cameraButton:"w-6 h-6"},lg:{avatar:"w-24 h-24",camera:"w-4 h-4",cameraButton:"w-8 h-8"}}[x],C=e=>{const a=(e=>["image/jpeg","image/jpg","image/png","image/webp"].includes(e.type)?e.size>5242880?"File size must be less than 5MB":null:"Please upload a valid image file (JPEG, PNG, or WebP)")(e);if(a)return void c.Ay.error(a);const t=URL.createObjectURL(e);w(t),U(e)},U=async e=>{g(!0),y(0);try{const a=setInterval(()=>{y(e=>e>=90?(clearInterval(a),90):e+10)},200),t=await d.R2.uploadAvatar(e);clearInterval(a),y(100),m&&m(t.avatarUrl),c.Ay.success("Profile photo updated successfully! \ud83c\udf89"),setTimeout(()=>{w(null),y(0),g(!1)},1e3)}catch(a){console.error("Upload error:",a),c.Ay.error(a.message||"Failed to upload photo. Please try again."),w(null),y(0),g(!1)}},S=()=>{var e;null===(e=A.current)||void 0===e||e.click()};return(0,h.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,h.jsxs)("div",{className:"relative mb-4",children:[(0,h.jsxs)("div",{className:"".concat(P.avatar," rounded-full border-2 border-gray-300 bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-xl font-bold text-white overflow-hidden cursor-pointer transition-all duration-200 hover:shadow-lg ").concat(N?"border-blue-500 shadow-lg":""),onDragOver:e=>{e.preventDefault(),k(!0)},onDragLeave:e=>{e.preventDefault(),k(!1)},onDrop:e=>{var a;e.preventDefault(),k(!1);const t=null===(a=e.dataTransfer.files)||void 0===a?void 0:a[0];t&&C(t)},onClick:S,children:[j?(0,h.jsx)("img",{src:j,alt:"Preview",className:"w-full h-full object-cover"}):a?(()=>{const e=/^https?:\/\//i.test(a)?a:"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:4000").concat(a.startsWith("/")?"":"/").concat(a);return(0,h.jsx)("img",{src:e,alt:t,className:"w-full h-full object-cover"})})():(0,h.jsx)("span",{children:(T=t,T.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))}),(0,h.jsx)(l.N,{children:v&&(0,h.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,h.jsxs)("div",{className:"text-center text-white",children:[(0,h.jsx)("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin mx-auto mb-2"}),(0,h.jsxs)("div",{className:"text-xs",children:[f,"%"]})]})})}),(0,h.jsx)(l.N,{children:N&&!v&&(0,h.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:(0,h.jsxs)("div",{className:"text-center text-blue-600",children:[(0,h.jsx)(r.A,{className:"w-6 h-6 mx-auto mb-1"}),(0,h.jsx)("div",{className:"text-xs font-medium",children:"Drop image here"})]})})})]}),(0,h.jsx)("button",{className:"absolute -bottom-1 -right-1 ".concat(P.cameraButton," bg-white border-2 border-blue-500 rounded-full flex items-center justify-center hover:bg-blue-50 transition-colors duration-200 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed"),onClick:S,disabled:v,children:v?(0,h.jsx)("div",{className:"w-3 h-3 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}):(0,h.jsx)(o,{className:"".concat(P.camera," text-blue-500")})}),(0,h.jsx)(l.N,{children:v&&(0,h.jsx)(i.P.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 border-2 border-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors duration-200 shadow-sm",onClick:()=>{w(null),y(0),g(!1),A.current&&(A.current.value="")},children:(0,h.jsx)(n.A,{className:"w-3 h-3 text-white"})})})]}),u&&(0,h.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:t}),p&&(0,h.jsx)("p",{className:"text-sm text-gray-500",children:b}),(0,h.jsx)("input",{ref:A,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:e=>{var a;const t=null===(a=e.target.files)||void 0===a?void 0:a[0];t&&C(t)},className:"hidden"}),(0,h.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:"Click camera icon to upload photo"})]});var T}},7033:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])}}]);
//# sourceMappingURL=702.97f471e2.chunk.js.map