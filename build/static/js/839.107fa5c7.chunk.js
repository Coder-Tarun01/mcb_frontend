/*! For license information please see 839.107fa5c7.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmycareerbuild_portal=self.webpackChunkmycareerbuild_portal||[]).push([[839],{516:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},797:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},1680:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},2054:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2284:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]])},3002:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},3839:(e,t,s)=>{s.r(t),s.d(t,{default:()=>F});var a=s(9379),i=s(5043),l=s(6446),r=s(1680),n=s(3002),c=s(2054),o=s(797),d=s(5087),x=s(2284),m=s(4105),h=s(516),p=s(7104),u=s(6533),y=s(9855),f=s(7176),g=s(9570),b=s(7784);const j=(0,b.A)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),w=(0,b.A)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),v=(0,b.A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var N=s(614),k=s(2339),C=s(579);const A=e=>{let{fileId:t,fileName:s,fileType:a,isOpen:r,onClose:n}=e;const[c,o]=(0,i.useState)(null),[d,x]=(0,i.useState)(!1),[m,h]=(0,i.useState)(null),[u,y]=(0,i.useState)(!1),[b,A]=(0,i.useState)(0);(0,i.useEffect)(()=>{r&&t&&F()},[r,t]);const F=async()=>{x(!0),h(null);try{const e=await f.w.viewCVFile(t);o(e)}catch(e){h(e.message||"Failed to load file"),k.Ay.error("Failed to load file for viewing")}finally{x(!1)}},P=()=>{c&&window.URL.revokeObjectURL(c),o(null),h(null),A(0),y(!1),n()};return r?(0,C.jsx)(g.N,{children:(0,C.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"file-viewer-overlay ".concat(u?"fullscreen":""),onClick:P,children:(0,C.jsxs)(l.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"file-viewer-modal",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("div",{className:"file-viewer-header",children:[(0,C.jsxs)("div",{className:"file-viewer-title",children:[(0,C.jsx)("h3",{children:s}),(0,C.jsx)("span",{className:"file-viewer-type",children:a})]}),(0,C.jsxs)("div",{className:"file-viewer-actions",children:[(0,C.jsx)("button",{onClick:()=>{A(e=>(e+90)%360)},className:"file-viewer-action-btn",title:"Rotate",children:(0,C.jsx)(j,{size:16})}),(0,C.jsx)("button",{onClick:()=>{y(!u)},className:"file-viewer-action-btn",title:u?"Exit Fullscreen":"Fullscreen",children:u?(0,C.jsx)(w,{size:16}):(0,C.jsx)(v,{size:16})}),(0,C.jsx)("button",{onClick:async()=>{try{await f.w.downloadCVFile(t),k.Ay.success("Download started")}catch(e){k.Ay.error("Failed to download file")}},className:"file-viewer-action-btn",title:"Download",children:(0,C.jsx)(p.A,{size:16})}),(0,C.jsx)("button",{onClick:P,className:"file-viewer-action-btn close",title:"Close",children:(0,C.jsx)(N.A,{size:16})})]})]}),(0,C.jsx)("div",{className:"file-viewer-content",children:d?(0,C.jsxs)("div",{className:"file-viewer-loading",children:[(0,C.jsx)("div",{className:"file-viewer-spinner"}),(0,C.jsx)("p",{children:"Loading file..."})]}):m?(0,C.jsxs)("div",{className:"file-viewer-error",children:[(0,C.jsxs)("p",{children:["\u274c ",m]}),(0,C.jsxs)("button",{onClick:F,className:"file-viewer-retry-btn",children:[(0,C.jsx)(j,{size:16}),"Retry"]})]}):c?"application/pdf"===a?(0,C.jsx)("iframe",{src:c,className:"file-viewer-iframe",title:s,style:{transform:"rotate(".concat(b,"deg)")}}):a.startsWith("image/")?(0,C.jsx)("img",{src:c,alt:s,className:"file-viewer-image",style:{transform:"rotate(".concat(b,"deg)")}}):(a.includes("text/"),(0,C.jsx)("iframe",{src:c,className:"file-viewer-iframe",title:s,style:{transform:"rotate(".concat(b,"deg)")}})):(0,C.jsx)("div",{className:"file-viewer-error",children:(0,C.jsx)("p",{children:"No file to display"})})})]})})}):null},F=()=>{const[e,t]=(0,i.useState)([]),[s,g]=(0,i.useState)({totalFiles:0,primaryFiles:0,publicFiles:0,activeFiles:0}),[b,j]=(0,i.useState)("list"),[w,v]=(0,i.useState)({search:"",type:"all",status:"all"}),[N,F]=(0,i.useState)(!1),[P,V]=(0,i.useState)(!1),[M,E]=(0,i.useState)(!1),[S,z]=(0,i.useState)(!0),[D,T]=(0,i.useState)(!1),[L,U]=(0,i.useState)(null),[H,O]=(0,i.useState)(""),[R,I]=(0,i.useState)(null),q=async()=>{try{z(!0);const[e,s]=await Promise.all([f.w.getCVFiles(w),f.w.getCVStats()]);t(e.files),g(s)}catch(e){console.error("Error loading CV data:",e),k.Ay.error("Failed to load CV files")}finally{z(!1)}};(0,i.useEffect)(()=>{q()},[w]);const B=(e,t)=>{v(s=>(0,a.A)((0,a.A)({},s),{},{[e]:t}))},G=async(s,i)=>{try{switch(i){case"view":const i=e.find(e=>e.id===s);i&&I({id:i.id,name:i.name,type:i.mimeType});break;case"download":await f.w.downloadCVFile(s),k.Ay.success("File download started");break;case"edit":const l=e.find(e=>e.id===s);l&&(U(s),O(l.name));break;case"delete":window.confirm("Are you sure you want to delete this file?")&&(await f.w.deleteCVFile(s),t(e=>e.filter(e=>e.id!==s)),k.Ay.success("File deleted successfully"));break;case"setPrimary":await f.w.setPrimaryCVFile(s),t(e=>e.map(e=>(0,a.A)((0,a.A)({},e),{},{isPrimary:e.id===s}))),k.Ay.success("Primary file updated");break;case"togglePublic":const r=e.find(e=>e.id===s);r&&(await f.w.updateCVFile(s,{isPublic:!r.isPublic}),t(e=>e.map(e=>e.id===s?(0,a.A)((0,a.A)({},e),{},{isPublic:!e.isPublic}):e)),k.Ay.success("File made ".concat(r.isPublic?"private":"public")));break;case"rename":H.trim()&&(await f.w.renameCVFile(s,H.trim()),t(e=>e.map(e=>e.id===s?(0,a.A)((0,a.A)({},e),{},{name:H.trim()}):e)),U(null),O(""),k.Ay.success("File renamed successfully"))}}catch(l){console.error("Error performing ".concat(i," action:"),l),k.Ay.error("Failed to ".concat(i," file"))}},J=()=>{U(null),O("")},K=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?V(!0):"dragleave"===e.type&&V(!1)},W=async e=>{if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(e.type))return void k.Ay.error("Invalid file type. Only PDF, DOC, DOCX, and TXT files are allowed.");if(e.size>10485760)k.Ay.error("File size too large. Maximum size is 10MB.");else{E(!0);try{const s=X(e),a=await f.w.uploadCVFile(e,{type:s,description:"",tags:[],isPublic:!1});t(e=>[...e,a]),k.Ay.success("File uploaded successfully"),F(!1)}catch(s){console.error("Error uploading file:",s),k.Ay.error("Failed to upload file")}finally{E(!1)}}},X=e=>{const t=e.name.toLowerCase();return t.includes("resume")||t.includes("cv")?"resume":t.includes("cover")||t.includes("letter")?"cover-letter":t.includes("portfolio")||t.includes("work")?"portfolio":t.includes("certificate")||t.includes("cert")?"certificate":"resume"},Y=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},Z=e=>{switch(e){case"resume":case"cover-letter":return(0,C.jsx)(r.A,{className:"file-type-icon"});case"portfolio":default:return(0,C.jsx)(n.A,{className:"file-type-icon"});case"certificate":return(0,C.jsx)(c.A,{className:"file-type-icon"})}},_=e=>{switch(e){case"resume":return"#2563eb";case"cover-letter":return"#3b82f6";case"portfolio":return"#60a5fa";case"certificate":return"#93c5fd";default:return"#6b7280"}},Q=e;return S?(0,C.jsx)("div",{className:"min-h-screen p-4 sm:p-6 bg-gray-50",children:(0,C.jsx)("div",{className:"w-full max-w-7xl mx-auto border-2 border-gray-300 rounded-xl p-4 sm:p-6",children:(0,C.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-5",children:[(0,C.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin"}),(0,C.jsx)("p",{className:"text-gray-500 text-base m-0",children:"Loading CV files..."})]})})}):(0,C.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"min-h-screen pt-0 pb-6 px-4 sm:px-6 bg-gray-50",children:[(0,C.jsxs)("div",{className:"w-full max-w-7xl mx-auto border-2 border-gray-300 rounded-xl p-4 sm:p-6",children:[(0,C.jsx)("div",{className:"mb-8",children:(0,C.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between mb-6 gap-4",children:[(0,C.jsx)("h2",{className:"text-2xl font-semibold text-blue-700 text-center lg:text-left w-full",children:"CV Manager"}),(0,C.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-3 w-full lg:w-auto",children:[(0,C.jsx)("input",{type:"text",placeholder:"Search files...",className:"border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:w.search,onChange:e=>B("search",e.target.value)}),(0,C.jsxs)("select",{className:"border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,C.jsx)("option",{children:"All Categories"}),(0,C.jsx)("option",{children:"Resume"}),(0,C.jsx)("option",{children:"Cover Letter"}),(0,C.jsx)("option",{children:"Portfolio"}),(0,C.jsx)("option",{children:"Certificate"})]}),(0,C.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",onClick:()=>F(!0),children:[(0,C.jsx)(o.A,{size:18}),"Upload File"]})]})]})}),(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-8",children:[(0,C.jsxs)("div",{className:"bg-white rounded-xl p-5 sm:p-6 shadow-sm border border-gray-200 flex items-center gap-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white bg-blue-600",children:(0,C.jsx)(r.A,{size:20,className:"text-white"})}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.totalFiles}),(0,C.jsx)("div",{className:"text-sm text-gray-600",children:"Total Files"})]})]}),(0,C.jsxs)("div",{className:"bg-white rounded-xl p-5 sm:p-6 shadow-sm border border-gray-200 flex items-center gap-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white bg-blue-500",children:(0,C.jsx)(c.A,{size:20,className:"text-white"})}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.primaryFiles}),(0,C.jsx)("div",{className:"text-sm text-gray-600",children:"Primary"})]})]}),(0,C.jsxs)("div",{className:"bg-white rounded-xl p-5 sm:p-6 shadow-sm border border-gray-200 flex items-center gap-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white bg-blue-400",children:(0,C.jsx)(d.A,{size:20,className:"text-white"})}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.publicFiles}),(0,C.jsx)("div",{className:"text-sm text-gray-600",children:"Public"})]})]})]}),(0,C.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:(0,C.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[(0,C.jsx)("div",{className:"flex-1",children:(0,C.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Type:"}),(0,C.jsxs)("select",{value:w.type,onChange:e=>B("type",e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,C.jsx)("option",{value:"all",children:"All Types"}),(0,C.jsx)("option",{value:"resume",children:"Resume"}),(0,C.jsx)("option",{value:"cover-letter",children:"Cover Letter"}),(0,C.jsx)("option",{value:"portfolio",children:"Portfolio"}),(0,C.jsx)("option",{value:"certificate",children:"Certificate"})]})]}),(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,C.jsxs)("select",{value:w.status,onChange:e=>B("status",e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,C.jsx)("option",{value:"all",children:"All Status"}),(0,C.jsx)("option",{value:"active",children:"Active"}),(0,C.jsx)("option",{value:"archived",children:"Archived"}),(0,C.jsx)("option",{value:"draft",children:"Draft"})]})]})]})}),(0,C.jsxs)("div",{className:"flex items-center gap-4",children:[(0,C.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,C.jsx)("button",{className:"p-2 rounded-md transition-colors ".concat("list"===b?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),onClick:()=>j("list"),title:"List View",children:(0,C.jsx)(x.A,{size:18})}),(0,C.jsx)("button",{className:"p-2 rounded-md transition-colors ".concat("grid"===b?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),onClick:()=>j("grid"),title:"Grid View",children:(0,C.jsx)(m.A,{size:18})})]}),(0,C.jsx)("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200 disabled:opacity-50",onClick:async()=>{T(!0);try{await q(),k.Ay.success("CV files refreshed")}catch(e){k.Ay.error("Failed to refresh CV files")}finally{T(!1)}},disabled:D,title:"Refresh",children:(0,C.jsx)(h.A,{className:"w-5 h-5 ".concat(D?"animate-spin":"")})})]})]})}),"list"===b?(0,C.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,C.jsx)("div",{className:"overflow-x-auto",children:(0,C.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,C.jsx)("thead",{className:"bg-gray-50",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File Name"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,C.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,C.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.length>0?Q.map(e=>(0,C.jsxs)(l.P.tr,{className:"hover:bg-gray-50",whileHover:{scale:1.01},transition:{duration:.2},children:[(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,C.jsx)("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center",style:{backgroundColor:_(e.type)+"20"},children:(0,C.jsx)("div",{style:{color:_(e.type)},children:Z(e.type)})})}),(0,C.jsxs)("div",{className:"ml-4",children:[(0,C.jsx)("div",{className:"text-sm font-medium text-gray-900",children:L===e.id?(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("input",{type:"text",value:H,onChange:e=>O(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0,onKeyDown:t=>{"Enter"===t.key?G(e.id,"rename"):"Escape"===t.key&&J()}}),(0,C.jsx)("button",{className:"text-green-600 hover:text-green-800",onClick:()=>G(e.id,"rename"),title:"Save",children:"\u2713"}),(0,C.jsx)("button",{className:"text-red-600 hover:text-red-800",onClick:J,title:"Cancel",children:"\u2715"})]}):(0,C.jsx)("div",{className:"cursor-pointer hover:text-blue-600",onClick:()=>G(e.id,"edit"),children:e.name})}),e.isPrimary&&(0,C.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"Primary"})]})]})}),(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,C.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-600",style:{color:"white"},children:e.type.charAt(0).toUpperCase()+e.type.slice(1).replace("-"," ")})}),(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y(e.size)}),(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.uploadDate).toLocaleDateString()}),(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,C.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,C.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-600",style:{color:"white"},children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,C.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-600",style:{color:"white"},children:e.isPublic?"Public":"Private"})]})}),(0,C.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,C.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,C.jsxs)("div",{className:"flex items-center gap-1",children:[(0,C.jsx)("button",{className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",onClick:()=>G(e.id,"view"),title:"View File",children:(0,C.jsx)(d.A,{size:16})}),(0,C.jsx)("button",{className:"p-1 text-green-600 hover:bg-green-50 rounded transition-colors",onClick:()=>G(e.id,"download"),title:"Download File",children:(0,C.jsx)(p.A,{size:16})}),(0,C.jsx)("button",{className:"p-1 text-yellow-600 hover:bg-yellow-50 rounded transition-colors",onClick:()=>G(e.id,"edit"),title:"Edit File",children:(0,C.jsx)(u.A,{size:16})}),(0,C.jsx)("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",onClick:()=>G(e.id,"delete"),title:"Delete File",children:(0,C.jsx)(y.A,{size:16})})]}),(0,C.jsxs)("div",{className:"flex items-center gap-1",children:[(0,C.jsx)("button",{className:"px-2 py-1 text-xs rounded transition-colors bg-blue-600 hover:bg-blue-700",style:{color:"white"},onClick:()=>G(e.id,"setPrimary"),disabled:e.isPrimary,title:e.isPrimary?"Primary File":"Set as Primary",children:e.isPrimary?"Primary":"Set Primary"}),(0,C.jsx)("button",{className:"px-2 py-1 text-xs rounded transition-colors bg-blue-600 hover:bg-blue-700",style:{color:"white"},onClick:()=>G(e.id,"togglePublic"),title:e.isPublic?"Make Private":"Make Public",children:e.isPublic?"Public":"Private"})]})]})})]},e.id)):(0,C.jsx)("tr",{children:(0,C.jsxs)("td",{colSpan:6,className:"px-6 py-12 text-center",children:[(0,C.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc1"}),(0,C.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No files found"}),(0,C.jsx)("p",{className:"text-gray-600 mb-4",children:"Upload your first file to get started with CV management."}),(0,C.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 mx-auto transition-colors",onClick:()=>F(!0),children:[(0,C.jsx)(o.A,{size:18}),"Upload Your First File"]})]})})})]})})}):(0,C.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.length>0?Q.map(e=>(0,C.jsxs)(l.P.div,{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 ".concat(e.isPrimary?"ring-2 ring-blue-500":""),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,C.jsxs)("div",{className:"p-6",children:[(0,C.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[(0,C.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:_(e.type)+"20"},children:(0,C.jsx)("div",{style:{color:_(e.type)},children:Z(e.type)})}),(0,C.jsxs)("div",{className:"flex-1",children:[L===e.id?(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("input",{type:"text",value:H,onChange:e=>O(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0,onKeyDown:t=>{"Enter"===t.key?G(e.id,"rename"):"Escape"===t.key&&J()}}),(0,C.jsx)("button",{className:"text-green-600 hover:text-green-800",onClick:()=>G(e.id,"rename"),title:"Save",children:"\u2713"}),(0,C.jsx)("button",{className:"text-red-600 hover:text-red-800",onClick:J,title:"Cancel",children:"\u2715"})]}):(0,C.jsx)("h3",{className:"text-lg font-semibold text-gray-900 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>G(e.id,"edit"),children:e.name}),(0,C.jsxs)("p",{className:"text-sm text-gray-500",children:[e.type.charAt(0).toUpperCase()+e.type.slice(1).replace("-"," ")," \u2022 ",Y(e.size)]})]})]}),(0,C.jsxs)("div",{className:"flex flex-col gap-1",children:[e.isPrimary&&(0,C.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"Primary"}),(0,C.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-600",style:{color:"white"},children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),(0,C.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,C.jsx)("span",{className:"text-gray-600",children:"Uploaded:"}),(0,C.jsx)("span",{className:"text-gray-900",children:new Date(e.uploadDate).toLocaleDateString()})]}),(0,C.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,C.jsx)("span",{className:"text-gray-600",children:"Downloads:"}),(0,C.jsx)("span",{className:"text-gray-900",children:e.downloadCount})]}),(0,C.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,C.jsx)("span",{className:"text-gray-600",children:"Last Viewed:"}),(0,C.jsx)("span",{className:"text-gray-900",children:new Date(e.lastViewed).toLocaleDateString()})]})]}),(0,C.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,C.jsx)("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>G(e.id,"view"),title:"View File",children:(0,C.jsx)(d.A,{size:16})}),(0,C.jsx)("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",onClick:()=>G(e.id,"download"),title:"Download File",children:(0,C.jsx)(p.A,{size:16})}),(0,C.jsx)("button",{className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",onClick:()=>G(e.id,"edit"),title:"Edit File",children:(0,C.jsx)(u.A,{size:16})}),(0,C.jsx)("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",onClick:()=>G(e.id,"delete"),title:"Delete File",children:(0,C.jsx)(y.A,{size:16})})]})]}),(0,C.jsx)("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("button",{className:"px-3 py-1 text-xs rounded transition-colors bg-blue-600 hover:bg-blue-700",style:{color:"white"},onClick:()=>G(e.id,"setPrimary"),disabled:e.isPrimary,children:e.isPrimary?"Primary":"Set Primary"}),(0,C.jsx)("button",{className:"px-3 py-1 text-xs rounded transition-colors bg-blue-600 hover:bg-blue-700",style:{color:"white"},onClick:()=>G(e.id,"togglePublic"),children:e.isPublic?"Public":"Private"})]})})]},e.id)):(0,C.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,C.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc1"}),(0,C.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No files found"}),(0,C.jsx)("p",{className:"text-gray-600 mb-4",children:"Upload your first file to get started with CV management."}),(0,C.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 mx-auto transition-colors",onClick:()=>F(!0),children:[(0,C.jsx)(o.A,{size:18}),"Upload Your First File"]})]})})]}),N&&(0,C.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>F(!1),children:(0,C.jsxs)(l.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-lg max-w-md w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,C.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload New File"}),(0,C.jsx)("button",{className:"text-gray-400 hover:text-gray-600 text-2xl",onClick:()=>F(!1),children:"\xd7"})]}),(0,C.jsxs)("div",{className:"p-6",children:[(0,C.jsx)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(P?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"," ").concat(M?"border-blue-500 bg-blue-50":""),onDragEnter:K,onDragLeave:K,onDragOver:K,onDrop:e=>{e.preventDefault(),e.stopPropagation(),V(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&W(e.dataTransfer.files[0])},children:M?(0,C.jsxs)("div",{className:"flex flex-col items-center",children:[(0,C.jsx)("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin mb-4"}),(0,C.jsx)("p",{className:"text-gray-600",children:"Uploading file..."})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(o.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,C.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drag & Drop your file here"}),(0,C.jsx)("p",{className:"text-gray-600 mb-4",children:"or click to browse"}),(0,C.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,.txt",onChange:e=>e.target.files&&W(e.target.files[0]),className:"hidden",id:"file-upload"}),(0,C.jsx)("label",{htmlFor:"file-upload",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg cursor-pointer transition-colors",children:"Choose File"})]})}),(0,C.jsxs)("div",{className:"mt-6",children:[(0,C.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Supported file types:"}),(0,C.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,C.jsx)("li",{children:"\u2022 PDF files (.pdf)"}),(0,C.jsx)("li",{children:"\u2022 Word documents (.doc, .docx)"}),(0,C.jsx)("li",{children:"\u2022 Text files (.txt)"})]}),(0,C.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Maximum file size: 10 MB"})]})]}),(0,C.jsx)("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:(0,C.jsx)("button",{className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",onClick:()=>F(!1),children:"Cancel"})})]})}),R&&(0,C.jsx)(A,{fileId:R.id,fileName:R.name,fileType:R.type,isOpen:!!R,onClose:()=>I(null)})]})}},4105:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},6533:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},7104:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},7176:(e,t,s)=>{s.d(t,{w:()=>i});var a=s(6291);const i={getCVFiles:async e=>{try{const t=new URLSearchParams;null!==e&&void 0!==e&&e.search&&t.append("search",e.search),null!==e&&void 0!==e&&e.type&&t.append("type",e.type),null!==e&&void 0!==e&&e.status&&t.append("status",e.status);const s="/cv".concat(t.toString()?"?".concat(t.toString()):""),i=await(0,a.In)(s,{method:"GET"});if(!i.ok){const e=await i.json();throw new Error(e.message||"Failed to fetch CV files")}return await i.json()}catch(t){throw console.error("Error fetching CV files:",t),t}},getCVStats:async()=>{try{const e=await(0,a.In)("/cv/stats",{method:"GET"});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch CV stats")}return(await e.json()).stats}catch(e){throw console.error("Error fetching CV stats:",e),e}},getCVFile:async e=>{try{const t=await(0,a.In)("/cv/".concat(e),{method:"GET"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to fetch CV file")}return(await t.json()).file}catch(t){throw console.error("Error fetching CV file:",t),t}},uploadCVFile:async(e,t)=>{try{const s=new FormData;s.append("file",e),s.append("type",t.type),t.description&&s.append("description",t.description),t.tags&&s.append("tags",JSON.stringify(t.tags)),s.append("isPublic",t.isPublic?"true":"false");const i=await(0,a.In)("/cv/upload",{method:"POST",body:s});if(!i.ok){const e=await i.json();throw new Error(e.message||"Failed to upload CV file")}return(await i.json()).file}catch(s){throw console.error("Error uploading CV file:",s),s}},updateCVFile:async(e,t)=>{try{const s=await(0,a.In)("/cv/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to update CV file")}return(await s.json()).file}catch(s){throw console.error("Error updating CV file:",s),s}},setPrimaryCVFile:async e=>{try{const t=await(0,a.In)("/cv/".concat(e,"/primary"),{method:"PATCH"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to set primary CV file")}return(await t.json()).file}catch(t){throw console.error("Error setting primary CV file:",t),t}},viewCVFile:async e=>{try{const t=await(0,a.In)("/cv/".concat(e,"/view"),{method:"GET"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to view CV file")}const s=await t.blob();return window.URL.createObjectURL(s)}catch(t){throw console.error("Error viewing CV file:",t),t}},downloadCVFile:async e=>{try{const t=await(0,a.In)("/cv/".concat(e,"/download"),{method:"GET"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to download CV file")}const s=await t.blob(),i=window.URL.createObjectURL(s),l=document.createElement("a");l.href=i,l.download="cv-file-".concat(e),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(i),document.body.removeChild(l)}catch(t){throw console.error("Error downloading CV file:",t),t}},deleteCVFile:async e=>{try{const t=await(0,a.In)("/cv/".concat(e),{method:"DELETE"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to delete CV file")}}catch(t){throw console.error("Error deleting CV file:",t),t}},renameCVFile:async(e,t)=>{try{const s=await(0,a.In)("/cv/".concat(e,"/rename"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to rename CV file")}}catch(s){throw console.error("Error renaming CV file:",s),s}}}}}]);
//# sourceMappingURL=839.107fa5c7.chunk.js.map